
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>HashKey Prime API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index-zhs" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;go&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#45fa4e00db" class="toc-h1 toc-link" data-title="介绍">介绍</a>
          </li>
          <li>
            <a href="#aa3833ea2a" class="toc-h1 toc-link" data-title="环境">环境</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7f152260df" class="toc-h2 toc-link" data-title="生产环境">生产环境</a>
                  </li>
                  <li>
                    <a href="#7a4cfb2662" class="toc-h2 toc-link" data-title="测试环境">测试环境</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#48630bb5a8" class="toc-h1 toc-link" data-title="支持的代币/数字货币">支持的代币/数字货币</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API 认证">API 认证</a>
          </li>
          <li>
            <a href="#9ec5ff78d5" class="toc-h1 toc-link" data-title="一般结构">一般结构</a>
          </li>
          <li>
            <a href="#api-2" class="toc-h1 toc-link" data-title="钱包 API">钱包 API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#67d2d7970f" class="toc-h2 toc-link" data-title="地址">地址</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7e1c81cbed" class="toc-h3 toc-link" data-title="获取最新地址">获取最新地址</a>
                          </li>
                          <li>
                            <a href="#6d25fafca5" class="toc-h3 toc-link" data-title="创建新地址">创建新地址</a>
                          </li>
                          <li>
                            <a href="#c87a67284f" class="toc-h3 toc-link" data-title="验证地址">验证地址</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#c02d697612" class="toc-h2 toc-link" data-title="钱包">钱包</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#6cb2ed599e" class="toc-h3 toc-link" data-title="获取所有可用资产">获取所有可用资产</a>
                          </li>
                          <li>
                            <a href="#a03f80faa5" class="toc-h3 toc-link" data-title="获取钱包余额">获取钱包余额</a>
                          </li>
                          <li>
                            <a href="#4fdde8d3c3" class="toc-h3 toc-link" data-title="添加钱包资产">添加钱包资产</a>
                          </li>
                          <li>
                            <a href="#a03f80faa5-2" class="toc-h3 toc-link" data-title="获取钱包余额">获取钱包余额</a>
                          </li>
                          <li>
                            <a href="#9ddf095837" class="toc-h3 toc-link" data-title="获取钱包资产">获取钱包资产</a>
                          </li>
                          <li>
                            <a href="#id" class="toc-h3 toc-link" data-title="通过id获取钱包资产">通过id获取钱包资产</a>
                          </li>
                          <li>
                            <a href="#2e24ba538e" class="toc-h3 toc-link" data-title="获取钱包订单">获取钱包订单</a>
                          </li>
                          <li>
                            <a href="#2e24ba538e-2" class="toc-h3 toc-link" data-title="获取钱包订单">获取钱包订单</a>
                          </li>
                          <li>
                            <a href="#07bb09a568" class="toc-h3 toc-link" data-title="更新钱包订单">更新钱包订单</a>
                          </li>
                          <li>
                            <a href="#a471daf080" class="toc-h3 toc-link" data-title="提现">提现</a>
                          </li>
                          <li>
                            <a href="#1045de04a1" class="toc-h3 toc-link" data-title="划转">划转</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#a8a40acd93" class="toc-h2 toc-link" data-title="质押">质押</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#validators" class="toc-h3 toc-link" data-title="获取质押validators">获取质押validators</a>
                          </li>
                          <li>
                            <a href="#b6ce0c4dd3" class="toc-h3 toc-link" data-title="抵押">抵押</a>
                          </li>
                          <li>
                            <a href="#7f551949fb" class="toc-h3 toc-link" data-title="解抵押">解抵押</a>
                          </li>
                          <li>
                            <a href="#482d047760" class="toc-h3 toc-link" data-title="添加资金需求">添加资金需求</a>
                          </li>
                          <li>
                            <a href="#177f4488ad" class="toc-h3 toc-link" data-title="获取质押利息">获取质押利息</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#otc" class="toc-h2 toc-link" data-title="OTC">OTC</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#19558ecf7c" class="toc-h3 toc-link" data-title="设置报价币对">设置报价币对</a>
                          </li>
                          <li>
                            <a href="#3db12586b5" class="toc-h3 toc-link" data-title="获取报价币对">获取报价币对</a>
                          </li>
                          <li>
                            <a href="#9603dfec93" class="toc-h3 toc-link" data-title="删除报价币对">删除报价币对</a>
                          </li>
                          <li>
                            <a href="#0156f2d2c2" class="toc-h3 toc-link" data-title="获取未结订单">获取未结订单</a>
                          </li>
                          <li>
                            <a href="#e7c62dd474" class="toc-h3 toc-link" data-title="获取订单">获取订单</a>
                          </li>
                          <li>
                            <a href="#7429804570" class="toc-h3 toc-link" data-title="获取价格">获取价格</a>
                          </li>
                          <li>
                            <a href="#f9d38ddf33" class="toc-h3 toc-link" data-title="获取未结价格">获取未结价格</a>
                          </li>
                          <li>
                            <a href="#get-price" class="toc-h3 toc-link" data-title="get price">get price</a>
                          </li>
                          <li>
                            <a href="#25cc6c47ff" class="toc-h3 toc-link" data-title="关闭价格">关闭价格</a>
                          </li>
                          <li>
                            <a href="#faa293bf93" class="toc-h3 toc-link" data-title="终止价格">终止价格</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#930f2e66d9" class="toc-h2 toc-link" data-title="市场">市场</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#6f0286c020" class="toc-h3 toc-link" data-title="当前价格">当前价格</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#1a1f6dff78" class="toc-h2 toc-link" data-title="系统">系统</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7c4d16ae6c" class="toc-h3 toc-link" data-title="当前时间戳">当前时间戳</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-3" class="toc-h1 toc-link" data-title="企业 API">企业 API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c02d697612-2" class="toc-h2 toc-link" data-title="钱包">钱包</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#fcbd093292" class="toc-h3 toc-link" data-title="创建">创建</a>
                          </li>
                          <li>
                            <a href="#appkeys" class="toc-h3 toc-link" data-title="获取appkeys">获取appkeys</a>
                          </li>
                          <li>
                            <a href="#appkey" class="toc-h3 toc-link" data-title="更新 appkey">更新 appkey</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#176a7a1019" class="toc-h2 toc-link" data-title="借贷">借贷</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#6ccc9aa49c" class="toc-h3 toc-link" data-title="获取借贷钱包列表">获取借贷钱包列表</a>
                          </li>
                          <li>
                            <a href="#1045de04a1-2" class="toc-h3 toc-link" data-title="划转">划转</a>
                          </li>
                          <li>
                            <a href="#a1d6e538d4" class="toc-h3 toc-link" data-title="获取记录列表">获取记录列表</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#trading" class="toc-h2 toc-link" data-title="Trading">Trading</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7096aff87d" class="toc-h3 toc-link" data-title="获取交易所列表">获取交易所列表</a>
                          </li>
                          <li>
                            <a href="#8f11bcbf50" class="toc-h3 toc-link" data-title="获取交易所余额">获取交易所余额</a>
                          </li>
                          <li>
                            <a href="#12c773032b" class="toc-h3 toc-link" data-title="交易所划转">交易所划转</a>
                          </li>
                          <li>
                            <a href="#38cab8ef6f" class="toc-h3 toc-link" data-title="获取交易所记录列表">获取交易所记录列表</a>
                          </li>
                          <li>
                            <a href="#0a96c16f68" class="toc-h3 toc-link" data-title="获取交易所记录">获取交易所记录</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c76b97433d" class="toc-h1 toc-link" data-title="回调">回调</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#81b3798beb" class="toc-h2 toc-link" data-title="订单">订单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#8ba46c43fe" class="toc-h3 toc-link" data-title="签名">签名</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8ba46c43fe-2" class="toc-h1 toc-link" data-title="签名">签名</a>
          </li>
          <li>
            <a href="#aes" class="toc-h1 toc-link" data-title="AES 加密">AES 加密</a>
          </li>
          <li>
            <a href="#185368440e" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/nbltrust/hashkey-custody-api-docs'>Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='45fa4e00db'>介绍</h1>
<p>Hashkey Prime 提供了一个简单而强大的 RESTful API 和客户端 SDK ，以将数字货币钱包与用户的应用程序集成在一起。欢迎查看我们的 <a href="https://github.com/nbltrust/hashkey-custody-sdk-nodejs">NodeJs SDK</a>, <a href="https://github.com/nbltrust/hashkey-custody-sdk-go">Go SDK</a>, <a href="https://github.com/nbltrust/jadepool-saas-sdk-java">Java SDK</a>接口。我们提供 2 个级别的 API, 管理API 和 钱包API。</p>

<p>管理 API 可以实现以下功能:</p>

<ul>
<li>创建钱包</li>
<li>钱包之间的借贷</li>
<li>管理交易所账户中的资产或头寸</li>
</ul>

<p>钱包 API 可以实现以下功能:</p>

<ul>
<li>钱包余额和交易清单</li>
<li>交易创建</li>
<li>交易监控和通知</li>
<li>作为 OTC 服务商在 OTC 市场提供报价</li>
</ul>
<h1 id='aa3833ea2a'>环境</h1>
<p>HashKey Prime 有两个用于开发和生产的独立环境。 出于安全考虑, 所有API请求均使用TLS加密的HTTPS协议发出。</p>
<h2 id='7f152260df'>生产环境</h2>
<p>生产端点是线上环境，提供给合作伙伴使用。</p>

<ul>
<li>生产网站: https://prime.hashkey.com/</li>
<li>生产API端点: https://prime.hashkey.com/saas-api</li>
</ul>
<h2 id='7a4cfb2662'>测试环境</h2>
<p>测试环境与生产环境完全分开，无论是数据还是账户都没有重叠。您需要在 https://saas.jadepool.io/ 创建账户。 </p>

<ul>
<li>测试网站: https://saas.jadepool.io/</li>
<li>测试API端点: https://openapi.jadepool.io</li>
</ul>

<p>该环境连接到我们支持的各种数字货币的TestNet网络。 这些网络上的代币可以从水龙头上获得，并不代表真实的货币。</p>
<h1 id='48630bb5a8'>支持的代币/数字货币</h1>
<p>关于生产环境， 请参考文档。</p>

<blockquote>
<p>https://XXXXX</p>
</blockquote>

<p>关于测试环境，请参考列表:</p>

<table><thead>
<tr>
<th>代币</th>
<th>区块链</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ETH</td>
<td>Ethereum</td>
<td>Koven testnet</td>
</tr>
<tr>
<td>NASH</td>
<td>Ethereum</td>
<td>Koven testnet, ERC20</td>
</tr>
<tr>
<td>BTC</td>
<td>Bitcoin</td>
<td>public testnet</td>
</tr>
<tr>
<td>EOS</td>
<td>Eosio</td>
<td>Jungle testnet</td>
</tr>
<tr>
<td>ATOM</td>
<td>Cosmos</td>
<td>Private testnet</td>
</tr>
<tr>
<td>IRIS</td>
<td>Irisnet</td>
<td>Private testnet</td>
</tr>
</tbody></table>
<h1 id='api'>API 认证</h1><h1 id='9ec5ff78d5'>一般结构</h1>
<p>服务器验证请求的一般请求结构。</p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>query/body</td>
<td>unix timestamp, seconds</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>nonce</td>
<td>query/body</td>
<td>nonce, random string, not repeated in 10 minutes</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>sign</td>
<td>query/body</td>
<td>hex string, sign parameters with HMACSHA256</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p>参数 <code>timestamp</code>， <code>nonce</code> 和 <code>sign</code> 位于GET请求的query中, 但位于POST请求的body中。</p>

<p>如果是 POST 请求, body 结构如下:</p>

<p><code>
{ 
  &quot;timestamp&quot;: 1583376284,
  &quot;nonce&quot;: &quot;15833762841261615239762485&quot;,
  &quot;mode&quot;: &quot;auto&quot;,
  &quot;sign&quot;:&quot;7042a9fd6deea017be7ad76dfb48e4c36feca279819630c870a628f5352c9044&quot;
}
</code></p>

<p>如果是 GET 请求, url 结构如下:</p>

<p><code>
/api/v1/app/balance/ETH?timestamp=1583374390&amp;nonce=1583374390314165815853245&amp;sign=7c482cf15d9d25772eee2c43bd146c8136472a055b4587b9fb22d02720037875
</code></p>

<p><font size=4> <a href="#signature">签名方式</a> 类似于 OAuth.</font></p>
<h1 id='api-2'>钱包 API</h1><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>git clone https://github.com/nbltrust/hashkey-custody-sdk-golang.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>hashkey-custody-sdk-golang
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="s1">'TyTLvCnHINbWZQag88hhmMz1'</span>
<span class="kr">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="s1">'uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6'</span>
<span class="kr">const</span> <span class="nx">apiAddr</span> <span class="o">=</span> <span class="s1">'http://127.0.0.1:8092'</span>

<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">API</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">secret</span><span class="p">,</span> <span class="nx">apiAddr</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">app</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">sdk</span><span class="o">.</span><span class="n">NewAppWithAddr</span><span class="p">(</span><span class="n">apiAddr</span><span class="p">,</span><span class="x"> </span><span class="n">key</span><span class="p">,</span><span class="x"> </span><span class="n">secret</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="s">"http://127.0.0.1:8092"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">appKey</span> <span class="o">=</span> <span class="s">"TyTLvCnHINbWZQag88hhmMz1"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">appSecret</span> <span class="o">=</span> <span class="s">"uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6"</span><span class="o">;</span>

<span class="n">APIContext</span> <span class="n">appContext</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APIContext</span><span class="o">(</span><span class="n">endpoint</span><span class="o">,</span> <span class="n">appKey</span><span class="o">,</span> <span class="n">appSecret</span><span class="o">);</span>
<span class="n">App</span> <span class="n">appTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">App</span><span class="o">(</span><span class="n">appContext</span><span class="o">);</span>
</code></pre>
<p>钱包的 key 和 secret 可在钱包的设置中生成。</p>
<h2 id='67d2d7970f'>地址</h2><h3 id='7e1c81cbed'>获取最新地址</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAddress"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"mode"</span>: <span class="s2">"deposit"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAddress</span><span class="p">(</span><span class="s2">"ETH"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取最新地址, 若不存在即创建</p>
<h4 id='http'>HTTP请求</h4>
<p><code>GET /api/v1/address/{coinName}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the new address</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>address mode</td>
</tr>
</tbody></table>
<h3 id='6d25fafca5'>创建新地址</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"CreateAddress"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"mode"</span>: <span class="s2">"deposit"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">createAddress</span><span class="p">(</span><span class="s2">"ETH"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">CreateAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">createAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 创建新地址</p>
<h4 id='http-2'>HTTP请求</h4>
<p><code>POST /api/v1/address/{coinName}/new</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>mode</td>
<td>body</td>
<td>mode</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the new address</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>address mode</td>
</tr>
</tbody></table>
<h3 id='c87a67284f'>验证地址</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"VerifyAddress"</span> <span class="s2">"ETH"</span> <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"valid"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">verifyAddress</span><span class="p">(</span><span class="s2">"ETH"</span><span class="p">,</span> <span class="nx">address</span><span class="p">)</span> 
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">VerifyAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">,</span><span class="x"> </span><span class="s">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">verifyAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">,</span> <span class="s">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 验证地址</p>
<h4 id='http-3'>HTTP请求</h4>
<p><code>POST /api/v1/address/{coinName}/verify</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>address</td>
<td>body</td>
<td>address</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the address to validate</td>
</tr>
<tr>
<td>valid</td>
<td>boolean</td>
<td>the address is valid or not</td>
</tr>
</tbody></table>
<h2 id='c02d697612'>钱包</h2><h3 id='6cb2ed599e'>获取所有可用资产</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAllAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="s2">"ETH"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAllAssets</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetAllAssets</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAllAssets</span><span class="o">();</span>
</code></pre>
<p><strong>总结:</strong> 获取所有可用资产</p>
<h4 id='http-4'>HTTP请求</h4>
<p><code>GET /api/v1/app/allAssets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>
<h3 id='a03f80faa5'>获取钱包余额</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetBalances"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"balances"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"balance"</span>: <span class="s2">"10001.225"</span>,
      <span class="s2">"money"</span>: <span class="s2">"98175466.911631525"</span>,
      <span class="s2">"name"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"price"</span>: <span class="s2">"9816.344189"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"balance"</span>: <span class="s2">"1.0"</span>,
      <span class="s2">"money"</span>: <span class="s2">"246.565827"</span>,
      <span class="s2">"name"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"price"</span>: <span class="s2">"246.565827"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: <span class="s2">"98175713.477458525"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBalances</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetBalances</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getBalances</span><span class="o">();</span>
</code></pre>
<p><strong>总结:</strong> 获取所有资产余额， 包括以美元计算的数量和价格</p>
<h4 id='http-5'>HTTP请求</h4>
<p><code>GET /api/v1/app/balances</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td>string</td>
<td>total money(USD)</td>
</tr>
<tr>
<td>balances</td>
<td>array</td>
<td>the wallet balance list</td>
</tr>
</tbody></table>

<p>余额:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>the coin balance</td>
</tr>
<tr>
<td>money</td>
<td>string</td>
<td>the amount(USD) equal to the balance</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>the coin name</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>the coin price(USD)</td>
</tr>
</tbody></table>
<h3 id='4fdde8d3c3'>添加钱包资产</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"AddAsset"</span> <span class="s2">"BTC"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addAppAsset</span><span class="p">(</span><span class="s2">"BTC"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">AddAsset</span><span class="p">(</span><span class="s">"BTC"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">addAppAsset</span><span class="o">(</span><span class="s">"BTC"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 添加钱包资产</p>
<h4 id='http-6'>HTTP请求</h4>
<p><code>POST /api/v1/app/assets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>body</td>
<td>asset name</td>
<td>Yes</td>
<td>array</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='a03f80faa5-2'>获取钱包余额</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetBalance"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"balance"</span>: <span class="s2">"0.450000000000000000"</span>,
  <span class="s2">"inLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"inLockedFee"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"outLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"outLockedFee"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingBalance"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateAmount"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateAmount"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBalance</span><span class="p">(</span><span class="s2">"ETH"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetBalance</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getBalance</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取钱包余额</p>
<h4 id='http-7'>HTTP请求</h4>
<p><code>GET /api/v1/app/balance/{coinName}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>the coin balance</td>
</tr>
<tr>
<td>inLocked</td>
<td>string</td>
<td>the coin transfer in amount under locked</td>
</tr>
<tr>
<td>inLockedFee</td>
<td>string</td>
<td>the coin transfer in fee under locked</td>
</tr>
<tr>
<td>outLocked</td>
<td>string</td>
<td>the coin transfer out amount under locked</td>
</tr>
<tr>
<td>outLockedFee</td>
<td>string</td>
<td>the coin transfer out fee under locked</td>
</tr>
<tr>
<td>stakingBalance</td>
<td>string</td>
<td>the staking coin balance</td>
</tr>
<tr>
<td>stakingInLocked</td>
<td>string</td>
<td>the staking coin transfer in amount under locked</td>
</tr>
<tr>
<td>stakingOutLocked</td>
<td>string</td>
<td>the staking coin transfer out amount under locked</td>
</tr>
<tr>
<td>delegateAmount</td>
<td>string</td>
<td>the coin delegate amount</td>
</tr>
<tr>
<td>delegateInLocked</td>
<td>string</td>
<td>the coin delegate transfer in amount under locked</td>
</tr>
<tr>
<td>delegateOutLocked</td>
<td>string</td>
<td>the coin delegate transfer out amount under locked</td>
</tr>
<tr>
<td>undelegateAmount</td>
<td>string</td>
<td>the undelegate coin amount</td>
</tr>
<tr>
<td>undelegateInLocked</td>
<td>string</td>
<td>the undelegate coin transfer in amount under locked</td>
</tr>
<tr>
<td>undelegateOutLocked</td>
<td>string</td>
<td>the undelegate coin transfer out amount under locked</td>
</tr>
</tbody></table>
<h3 id='9ddf095837'>获取钱包资产</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="s2">"ETH"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAssets</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetAssets</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAssets</span><span class="o">();</span>
</code></pre>
<p><strong>总结:</strong> 获取钱包资产</p>
<h4 id='http-8'>HTTP请求</h4>
<p><code>GET /api/v1/app/assets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>
<h3 id='id'>通过id获取钱包资产</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"name"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"absFee"</span>: <span class="s2">"0.005"</span>,
      <span class="s2">"canDeposit"</span>: <span class="nb">true</span>,
      <span class="s2">"canWithdraw"</span>: <span class="nb">true</span>,
      <span class="s2">"decimal"</span>: 18,
      <span class="s2">"description"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"feeCoin"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"priorityAverage"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.02"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"4.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityFast"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.025"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"5.0"</span>
      <span class="o">}</span>,
      <span class="s2">"prioritySlow"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.01"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"2.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityVeryFast"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.03"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"6.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityVerySlow"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.015"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"3.0"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 通过id获取钱包资产</p>
<h4 id='http-9'>HTTP请求</h4>
<p><code>GET /api/v1/app/assetsWithID</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>

<p>资产:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>number</td>
<td>the asset id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>the asset name</td>
</tr>
<tr>
<td>absFee</td>
<td>string</td>
<td>withdraw fee</td>
</tr>
<tr>
<td>canDeposit</td>
<td>boolean</td>
<td>whether or not the asset can be deposited</td>
</tr>
<tr>
<td>canWithdraw</td>
<td>boolean</td>
<td>whether or not the asset can be withdrawn</td>
</tr>
<tr>
<td>decimal</td>
<td>number</td>
<td>the asset decimal</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>the asset description</td>
</tr>
<tr>
<td>feeCoin</td>
<td>string</td>
<td>withdraw fee coin</td>
</tr>
<tr>
<td>priorityAverage</td>
<td>object</td>
<td>withdraw fee with average priority</td>
</tr>
<tr>
<td>priorityFast</td>
<td>object</td>
<td>withdraw fee with fast priority</td>
</tr>
<tr>
<td>prioritySlow</td>
<td>object</td>
<td>withdraw fee with slow priority</td>
</tr>
<tr>
<td>priorityVeryFast</td>
<td>object</td>
<td>withdraw fee with very fast priority</td>
</tr>
<tr>
<td>priorityVerySlow</td>
<td>object</td>
<td>withdraw fee with very slow priority</td>
</tr>
</tbody></table>

<p>优先级:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>fee</td>
<td>string</td>
<td>fee with the priority</td>
</tr>
<tr>
<td>priority</td>
<td>string</td>
<td>the priority, set into the withdraw request</td>
</tr>
</tbody></table>
<h3 id='2e24ba538e'>获取钱包订单</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetOrders"</span> 1 10
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"totalAmount"</span>: 1,
  <span class="s2">"orders"</span>: <span class="o">[{</span>
    <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
    <span class="s2">"block"</span>: 12970670,
    <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"confirmations"</span>: 21,
    <span class="s2">"fee"</span>: <span class="s2">"0.005000000000000000"</span>,
    <span class="s2">"from"</span>: <span class="s2">"0xdedc1eca923cc1227c20571030146d8a01b70774"</span>,
    <span class="s2">"id"</span>: <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>,
    <span class="s2">"memo"</span>: <span class="s2">""</span>,
    <span class="s2">"n"</span>: 0,
    <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
    <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
    <span class="s2">"txid"</span>: <span class="s2">"0xcfc4cb925c77c2ea10be3c233029fc1f05d0ddffe7396920ddd493544e52933d"</span>,
    <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"value"</span>: <span class="s2">"0.045000000000000000"</span>
  <span class="o">}]</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getOrders</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetOrders</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="x"> </span><span class="m">10</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getOrders</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取钱包订单</p>
<h4 id='http-10'>HTTP请求</h4>
<p><code>GET /api/v1/app/orders</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>page, e.g. 1</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>amount</td>
<td>query</td>
<td>item count on this page, e.g. 10</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coins</td>
<td>query</td>
<td>coin list, can be empty string</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>state</td>
<td>query</td>
<td>order state, can be empty string</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>bizType</td>
<td>query</td>
<td>order type, TRANSFER_IN/TRANSFER_OUT/WITHDRAW/DEPOSIT</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>array</td>
<td>order list</td>
</tr>
<tr>
<td>totalAmount</td>
<td>number</td>
<td>the total count of orders</td>
</tr>
</tbody></table>
<h3 id='2e24ba538e-2'>获取钱包订单</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetOrder"</span> <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
  <span class="s2">"block"</span>: 12970670,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 21,
  <span class="s2">"fee"</span>: <span class="s2">"0.005000000000000000"</span>,
  <span class="s2">"from"</span>: <span class="s2">"0xdedc1eca923cc1227c20571030146d8a01b70774"</span>,
  <span class="s2">"id"</span>: <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
  <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
  <span class="s2">"txid"</span>: <span class="s2">"0xcfc4cb925c77c2ea10be3c233029fc1f05d0ddffe7396920ddd493544e52933d"</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.045000000000000000"</span>,
  <span class="s2">"note"</span>: <span class="s2">"note"</span>,
  <span class="s2">"message"</span>: <span class="s2">""</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getOrder</span><span class="p">(</span><span class="s2">"rNXBQGJlw09apVyg4nDo"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetOrder</span><span class="p">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getOrder</span><span class="o">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取钱包订单</p>
<h4 id='http-11'>HTTP请求</h4>
<p><code>GET /api/v1/app/order/{id}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>order memo</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>order index</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>order note</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>message to recipient of transfer</td>
</tr>
</tbody></table>
<h3 id='07bb09a568'>更新钱包订单</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"UpdateOrder"</span> <span class="s2">"rNXBQGJlw09apVyg4nDo"</span> <span class="s2">"123"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">UpdateOrder</span><span class="p">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="p">,</span><span class="x"> </span><span class="s">"123"</span><span class="p">)</span><span class="x">
</span></code></pre>
<p><strong>总结:</strong> 更新钱包订单</p>
<h4 id='http-12'>HTTP请求</h4>
<p><code>PUT /api/v1/app/order/{id}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>note</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='a471daf080'>提现</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"Withdraw"</span> <span class="s2">"</span><span class="k">$(</span>date +%s<span class="k">)</span><span class="s2">"</span> <span class="s2">"ETH"</span> <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span> <span class="s2">"0.05"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
  <span class="s2">"block"</span>: -1,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"fee"</span>: <span class="s2">"0.0050000000"</span>,
  <span class="s2">"from"</span>: <span class="s2">""</span>,
  <span class="s2">"id"</span>: <span class="s2">"Jd7qbDRa1qM1lxK5Qe2M"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"state"</span>: <span class="s2">"INIT"</span>,
  <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
  <span class="s2">"txid"</span>: <span class="s2">""</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.0450000000"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="s1">'ETH'</span>
        <span class="kd">let</span> <span class="nx">to</span> <span class="o">=</span> <span class="s1">'0x56204b988844b20160035273fD98Dbb2A54C85F5'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="s1">'0.01'</span>
        <span class="kd">let</span> <span class="nx">memo</span> <span class="o">=</span> <span class="s1">''</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">withdraw</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">memo</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">Withdraw</span><span class="p">(</span><span class="s">"1569225735"</span><span class="p">,</span><span class="x"> </span><span class="s">"ETH"</span><span class="p">,</span><span class="x"> </span><span class="s">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="p">,</span><span class="x"> </span><span class="s">"0.05"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">withdraw</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="s">"ETH"</span><span class="o">,</span> <span class="s">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="o">,</span> <span class="s">"0.05"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 提现</p>
<h4 id='http-13'>HTTP请求</h4>
<p><code>POST /api/v1/app/{coinName}/withdraw</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>withdraw id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>to</td>
<td>body</td>
<td>receive address</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>withdraw amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>memo</td>
<td>body</td>
<td>address memo</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>note</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>priority</td>
<td>body</td>
<td>priority</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>address memo</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>order index</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>order note</td>
</tr>
</tbody></table>
<h3 id='1045de04a1'>划转</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> Transfer <span class="s2">"e5dJyVp8R3B1m4o"</span> <span class="s2">"ETH"</span> <span class="s2">"0.01"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"TRANSFER_OUT"</span>,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"fee"</span>: <span class="s2">"0"</span>,
  <span class="s2">"from"</span>: <span class="s2">"L6RayqPn4jXExW0"</span>,
  <span class="s2">"id"</span>: <span class="s2">"orders4eq8kz1235jz2yj0n9rvpwl7"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"message"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"note"</span>: <span class="s2">""</span>,
  <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
  <span class="s2">"to"</span>: <span class="s2">"e5dJyVp8R3B1m4o"</span>,
  <span class="s2">"txid"</span>: <span class="s2">""</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.01"</span>
<span class="o">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">Transfer</span><span class="p">(</span><span class="s">"e5dJyVp8R3B1m4o"</span><span class="p">,</span><span class="x"> </span><span class="s">"ETH"</span><span class="p">,</span><span class="x"> </span><span class="s">"0.01"</span><span class="p">)</span><span class="x">
</span></code></pre>
<p><strong>总结:</strong> 划转</p>
<h4 id='http-14'>HTTP请求</h4>
<p><code>POST /api/v1/app/{coinName}/transfer</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>to</td>
<td>body</td>
<td>receive wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>transfer amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>transfer note, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>message</td>
<td>body</td>
<td>transfer message, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>order note</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>order index</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>transfer note</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>transfer message</td>
</tr>
</tbody></table>
<h2 id='a8a40acd93'>质押</h2><h3 id='validators'>获取质押validators</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetValidators"</span> <span class="s2">"IRIS"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"validators"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"address"</span>: <span class="s2">"fva125aw6ew57jugyultpcqrlk7sewamxtjer48cy0"</span>,
      <span class="s2">"commission"</span>: <span class="o">{</span>
        <span class="s2">"maxChangeRate"</span>: 1,
        <span class="s2">"maxRate"</span>: 1,
        <span class="s2">"rate"</span>: 0.1,
        <span class="s2">"updateAt"</span>: <span class="s2">"0001-01-01T00:00:00.000Z"</span>
      <span class="o">}</span>,
      <span class="s2">"delegationAmount"</span>: <span class="s2">"2770068.5544012594476618430000000000"</span>,
      <span class="s2">"jailed"</span>: <span class="nb">false</span>,
      <span class="s2">"minSelfDelegation"</span>: <span class="s2">"0"</span>,
      <span class="s2">"name"</span>: <span class="s2">"validator0"</span>,
      <span class="s2">"pubkey"</span>: <span class="s2">"fcp1zcjduepqt9c5p8e25s5zxxsg5758cx4aqylarkxrc35qg0d0pge84p3rtaasmz58sl"</span>,
      <span class="s2">"shares"</span>: <span class="s2">"2770068.5544012594476618430000000000"</span>,
      <span class="s2">"status"</span>: 2
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"address"</span>: <span class="s2">"fva1at9ye95xmsp9wzpc6asmju5w55nece5c4fv28m"</span>,
      <span class="s2">"commission"</span>: <span class="o">{</span>
        <span class="s2">"maxChangeRate"</span>: 1,
        <span class="s2">"maxRate"</span>: 1,
        <span class="s2">"rate"</span>: 0.1,
        <span class="s2">"updateAt"</span>: <span class="s2">"0001-01-01T00:00:00.000Z"</span>
      <span class="o">}</span>,
      <span class="s2">"delegationAmount"</span>: <span class="s2">"370.1929307965746291140000000000"</span>,
      <span class="s2">"jailed"</span>: <span class="nb">true</span>,
      <span class="s2">"minSelfDelegation"</span>: <span class="s2">"0"</span>,
      <span class="s2">"name"</span>: <span class="s2">"validator1"</span>,
      <span class="s2">"pubkey"</span>: <span class="s2">"fcp1zcjduepqj0gp48fu32h2ttsn4anz368cyjyklq0ut7c0slk0ncxqv9l3mqmsehkpr6"</span>,
      <span class="s2">"shares"</span>: <span class="s2">"370.1929307965746291140000000000"</span>,
      <span class="s2">"status"</span>: 0
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getValidators</span><span class="p">(</span><span class="s2">"IRIS"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetValidators</span><span class="p">(</span><span class="s">"IRIS"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getValidators</span><span class="o">(</span><span class="s">"IRIS"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取质押validators</p>
<h4 id='http-15'>HTTP请求</h4>
<p><code>GET /api/v1/staking/{coinName}/validators</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>validators</td>
<td>array</td>
<td>the validator list</td>
</tr>
</tbody></table>
<h3 id='b6ce0c4dd3'>抵押</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"Delegate"</span> <span class="k">$(</span>date +%s<span class="k">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"J9rPWXA13Kl9bam4Vo6G"</span>,
  <span class="s2">"type"</span>: <span class="s2">"DELEGATE"</span>,
  <span class="s2">"value"</span>: <span class="s2">"1"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="s1">'ATOM'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="s1">'0.06'</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">delegate</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">Delegate</span><span class="p">(</span><span class="s">"1569231558"</span><span class="p">,</span><span class="x"> </span><span class="s">"IRIS2"</span><span class="p">,</span><span class="x"> </span><span class="s">"1"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">delegate</span><span class="o">(</span><span class="s">"1569231558"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 抵押</p>
<h4 id='http-16'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/delegate</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>delegate custom order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>delegate amount</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>delegate amount</td>
</tr>
</tbody></table>
<h3 id='7f551949fb'>解抵押</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"UnDelegate"</span> <span class="k">$(</span>date +%s<span class="k">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"P6wAQNrWp5XanXk5L7VR"</span>,
  <span class="s2">"type"</span>: <span class="s2">"UNDELEGATE"</span>,
  <span class="s2">"value"</span>: <span class="s2">"1"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="s1">'ATOM'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="s1">'0.01'</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">undelegate</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">UnDelegate</span><span class="p">(</span><span class="s">"1569231809"</span><span class="p">,</span><span class="x"> </span><span class="s">"IRIS2"</span><span class="p">,</span><span class="x"> </span><span class="s">"1"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">unDelegate</span><span class="o">(</span><span class="s">"1569231809"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 解抵押</p>
<h4 id='http-17'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/undelegate</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>delegate custom order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>delegate amount</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>delegate amount</td>
</tr>
</tbody></table>
<h3 id='482d047760'>添加资金需求</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"AddUrgentStakingFunding"</span> <span class="k">$(</span>date +%s<span class="k">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span> <span class="s2">"1569302076"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="s1">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="s1">'ATOM'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="s1">'0.06'</span>
        <span class="kd">let</span> <span class="nx">expiredAt</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">86400</span> <span class="o">*</span> <span class="mi">21</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addUrgentStakingFunding</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">expiredAt</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">AddUrgentStakingFunding</span><span class="p">(</span><span class="s">"1569292076"</span><span class="p">,</span><span class="x"> </span><span class="s">"IRIS2"</span><span class="p">,</span><span class="x"> </span><span class="s">"1"</span><span class="p">,</span><span class="x"> </span><span class="m">1569302076</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">addUrgentStakingFunding</span><span class="o">(</span><span class="s">"1569292076"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="mi">1569302076</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 添加资金需求</p>
<h4 id='http-18'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/funding</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>funding id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>funding amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>expiredAt</td>
<td>body</td>
<td>expired time</td>
<td>Yes</td>
<td>number</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='177f4488ad'>获取质押利息</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetStakingInterest"</span> <span class="s2">"IRIS"</span> <span class="s2">"2019-09-26"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"coinName"</span>: <span class="s2">"IRIS"</span>,
  <span class="s2">"interest"</span>: <span class="s2">"0.12345"</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getStakingInterest</span><span class="p">(</span><span class="s2">"IRIS"</span><span class="p">,</span> <span class="s2">"2019-09-26"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">app</span><span class="o">.</span><span class="n">GetStakingInterest</span><span class="p">(</span><span class="s">"IRIS"</span><span class="p">,</span><span class="x"> </span><span class="s">"2019-09-26"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getStakingInterest</span><span class="o">(</span><span class="s">"IRIS"</span><span class="o">,</span> <span class="s">"2019-09-26"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取质押利息</p>
<h4 id='http-19'>HTTP请求</h4>
<p><code>GET /api/v1/staking/{coinName}/interest</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>date</td>
<td>query</td>
<td>UTC date</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>coinName</td>
<td>string</td>
<td>the coin name</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the interest value</td>
</tr>
</tbody></table>
<h2 id='otc'>OTC</h2>
<p>为大型交易提供较佳价格和较快结算的体验。 客户可以在菜单栏上的OTC板块上进行交易。 以下是正常流程。</p>

<ol>
<li>为客户<a href="#set-quote-symbols">设置支持报价币对</a> 。客户将在OTC板块上看到报价币对。</li>
<li>客户在OTC板块上获得报价后，将创建未结订单。 通过<a href="#get-open-orders">API</a>获取.</li>
<li>未结订单<a href="#feed-price">获取报价</a> 。</li>
<li>价格将显示在OTC板块上，等待客户确认。在此等待期间 <a href="#get-price">检查报价是否被选择</a> 。</li>
<li>价格被选择之后<a href="#close-price">关闭报价</a> 。但如果价格不再适用，只需 <a href="#terminate-price">终止价格</a>即可。 价格关闭时交易即完成。</li>
</ol>
<h3 id='19558ecf7c'>设置报价币对</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCSetSymbols"</span> <span class="s1">'[
  {
    "baseCoinID": 1,
    "quoteCoinID": 2,
    "baseCoinAmountRange": ["10", "100"],
    "quoteCoinAmountRange": ["10000", "100000000"]
  }]'</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"symbols"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"baseCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
      <span class="o">}</span>,
      <span class="s2">"quoteCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 2,
        <span class="s2">"name"</span>: <span class="s2">"USD"</span>
      <span class="o">}</span>,
      <span class="s2">"baseCoinAmountRange"</span>: <span class="o">[</span>10, 100],
      <span class="s2">"quoteCoinAmountRange"</span>: <span class="o">[</span>10000, 100000000]
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 设置支持的报价币对</p>

<p>如果该币对已经存在，则会被更新。</p>
<h4 id='http-20'>HTTP请求</h4>
<p><code>POST /api/v1/otc/symbols</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>symbols</td>
<td>body</td>
<td>quote symbol list</td>
<td>Yes</td>
<td>array</td>
</tr>
</tbody></table>

<p>币对:</p>

<table><thead>
<tr>
<th>值</th>
<th>描述</th>
<th>是否必需</th>
</tr>
</thead><tbody>
<tr>
<td>baseCoinID</td>
<td>buy/sell asset id</td>
<td>Yes</td>
</tr>
<tr>
<td>quoteCoinID</td>
<td>spend/receive asset id</td>
<td>Yes</td>
</tr>
<tr>
<td>baseCoinAmountRange</td>
<td>the min/max limit of baseCoin</td>
<td>Yes</td>
</tr>
<tr>
<td>quoteCoinAmountRange</td>
<td>the min/max limit of quoteCoin</td>
<td>Yes</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbols</td>
<td>array</td>
<td>quote symbol list</td>
</tr>
</tbody></table>
<h3 id='3db12586b5'>获取报价币对</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetSymbols"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"symbols"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"baseCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
      <span class="o">}</span>,
      <span class="s2">"quoteCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 2,
        <span class="s2">"name"</span>: <span class="s2">"USD"</span>
      <span class="o">}</span>,
      <span class="s2">"baseCoinAmountRange"</span>: <span class="o">[</span>10, 100],
      <span class="s2">"quoteCoinAmountRange"</span>: <span class="o">[</span>10000, 100000000]
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取支持的报价币对</p>
<h4 id='http-21'>HTTP请求</h4>
<p><code>GET /api/v1/otc/symbols</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>symbols</td>
<td>array</td>
<td>quote symbol list</td>
</tr>
</tbody></table>
<h3 id='9603dfec93'>删除报价币对</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCDeleteSymbol"</span> 1 2
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre>
<p><strong>总结:</strong> 删除报价币对</p>
<h4 id='http-22'>HTTP请求</h4>
<p><code>DELETE /api/v1/otc/symbol</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>baseCoinID</td>
<td>query</td>
<td>base coin id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>quoteCoinID</td>
<td>query</td>
<td>quote coin id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>
<h3 id='0156f2d2c2'>获取未结订单</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetOrders"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"orders"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>,
      <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
      <span class="s2">"accountID"</span>: 1,
      <span class="s2">"type"</span>: <span class="s2">"BUY"</span>,
      <span class="s2">"baseCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
      <span class="o">}</span>,
      <span class="s2">"quoteCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 2,
        <span class="s2">"name"</span>: <span class="s2">"USD"</span>
      <span class="o">}</span>,
      <span class="s2">"amountCoin"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1,
        <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
      <span class="o">}</span>,
      <span class="s2">"amount"</span>: <span class="s2">"10"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取没有得到报价的未结询价订单</p>
<h4 id='http-23'>HTTP请求</h4>
<p><code>GET /api/v1/otc/orders</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>array</td>
<td>order list</td>
</tr>
</tbody></table>
<h3 id='e7c62dd474'>获取订单</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetOrder"</span> <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>,
  <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
  <span class="s2">"accountID"</span>: 1,
  <span class="s2">"type"</span>: <span class="s2">"BUY"</span>,
  <span class="s2">"baseCoin"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
  <span class="o">}</span>,
  <span class="s2">"quoteCoin"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 2,
    <span class="s2">"name"</span>: <span class="s2">"USD"</span>
  <span class="o">}</span>,
  <span class="s2">"amountCoin"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
  <span class="o">}</span>,
  <span class="s2">"amount"</span>: <span class="s2">"10"</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 通过id获取订单</p>
<h4 id='http-24'>HTTP请求</h4>
<p><code>GET /api/v1/otc/order/{orderID}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>orderID</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>order status</td>
</tr>
<tr>
<td>accountID</td>
<td>number</td>
<td>account id</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>quote mode, BUY/SELL</td>
</tr>
<tr>
<td>baseCoin</td>
<td>string</td>
<td>base coin</td>
</tr>
<tr>
<td>quoteCoin</td>
<td>string</td>
<td>quote coin</td>
</tr>
<tr>
<td>amountCoin</td>
<td>string</td>
<td>amount coin</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>amount</td>
</tr>
</tbody></table>

<p>订单状态:</p>

<table><thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>OPEN</td>
<td>the order is waiting for feeding price</td>
</tr>
<tr>
<td>DONE</td>
<td>the order has been carried out</td>
</tr>
<tr>
<td>TERMINATE</td>
<td>the order has been cancelled</td>
</tr>
</tbody></table>
<h3 id='7429804570'>获取价格</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCFeedPrice"</span> <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span> <span class="s2">"7739.90"</span> <span class="s2">"0320042810120495"</span> 1588151193
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>,
  <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
  <span class="s2">"invalidAt"</span>: 1588151193
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取价格</p>
<h4 id='http-25'>HTTP请求</h4>
<p><code>POST /api/v1/otc/orders/{orderID}/price</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>orderID</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>price</td>
<td>body</td>
<td>price</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>customID</td>
<td>body</td>
<td>the custom id defined by requester</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>invalidAt</td>
<td>body</td>
<td>timestamp, the max valid duration is 12 seconds, the value will be replaced with the max if invalidAt &gt; now + 12s</td>
<td>Yes</td>
<td>number</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>price id</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>price status</td>
</tr>
<tr>
<td>invalidAt</td>
<td>number</td>
<td>invalid timestamp</td>
</tr>
</tbody></table>

<p>价格状态:</p>

<table><thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>OPEN</td>
<td>the price is waiting for confirmation</td>
</tr>
<tr>
<td>CLOSE</td>
<td>the order has been carried out with the price</td>
</tr>
<tr>
<td>TERMINATE</td>
<td>the price was rejected by OTC provider</td>
</tr>
</tbody></table>
<h3 id='f9d38ddf33'>获取未结价格</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetPrices"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"prices"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>,
      <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
      <span class="s2">"choose"</span>: <span class="nb">true</span>,
      <span class="s2">"customID"</span>: <span class="s2">"0320042810120495"</span>,
      <span class="s2">"price"</span>: <span class="s2">"7739.90"</span>,
      <span class="s2">"invalidAt"</span>: 1588151193,
      <span class="s1">'chooseInvalidAt'</span>: 1593595402,
      <span class="s2">"quoteAmount"</span>: <span class="s2">"9458.15779"</span>,
      <span class="s2">"baseAmount"</span>: <span class="s2">"1.222"</span>,
      <span class="s2">"orderID"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取应用返回的未结价格</p>
<h4 id='http-26'>HTTP请求</h4>
<p><code>GET /api/v1/otc/prices</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>prices</td>
<td>array</td>
<td>price list</td>
</tr>
</tbody></table>
<h3 id='get-price'>get price</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetPrice"</span> <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>
<span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCGetPriceByCustomID"</span> <span class="s2">"0320042810120495"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>,
  <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
  <span class="s2">"choose"</span>: <span class="nb">true</span>,
  <span class="s2">"customID"</span>: <span class="s2">"0320042810120495"</span>,
  <span class="s2">"price"</span>: <span class="s2">"7739.90"</span>,
  <span class="s2">"invalidAt"</span>: 1588151193,
  <span class="s1">'chooseInvalidAt'</span>: 1593595402,
  <span class="s2">"quoteAmount"</span>: <span class="s2">"9458.15779"</span>,
  <span class="s2">"baseAmount"</span>: <span class="s2">"1.222"</span>,
  <span class="s2">"orderID"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取价格的最新状态</p>
<h4 id='http-27'>HTTP请求</h4>
<p><code>GET /api/v1/otc/price/{priceID}</code></p>

<p><code>GET /api/v1/otc/price/custom/{customID}</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>priceID</td>
<td>path</td>
<td>price id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>customID</td>
<td>path</td>
<td>custom id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>price id</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>price status</td>
</tr>
<tr>
<td>choose</td>
<td>boolean</td>
<td>mark if customer choose</td>
</tr>
<tr>
<td>customID</td>
<td>string</td>
<td>the custom id</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>price</td>
</tr>
<tr>
<td>quoteAmount</td>
<td>string</td>
<td>the quote amount by the price</td>
</tr>
<tr>
<td>baseAmount</td>
<td>string</td>
<td>the base amount by the price</td>
</tr>
<tr>
<td>invalidAt</td>
<td>number</td>
<td>invalid timestamp</td>
</tr>
<tr>
<td>chooseInvalidAt</td>
<td>number</td>
<td>choose invalid timestamp</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>the associated order id</td>
</tr>
</tbody></table>
<h3 id='25cc6c47ff'>关闭价格</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCClosePrice"</span> <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>,
  <span class="s2">"status"</span>: <span class="s2">"CLOSE"</span>,
  <span class="s2">"choose"</span>: <span class="nb">true</span>,
  <span class="s2">"customID"</span>: <span class="s2">"0320042810120495"</span>,
  <span class="s2">"price"</span>: <span class="s2">"7739.90"</span>,
  <span class="s2">"invalidAt"</span>: 1588151193,
  <span class="s2">"orderID"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 以该价格成交</p>

<p>如果应用程序的资产余额足够，该价格的订单就会被完成，否则(错误代码：20002)，价格将被终止。</p>
<h4 id='http-28'>HTTP请求</h4>
<p><code>GET /api/v1/otc/price/{priceID}/close</code></p>

<p><code>GET /api/v1/otc/price/custom/{customID}/close</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>priceID</td>
<td>path</td>
<td>price id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>customID</td>
<td>path</td>
<td>custom id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>price id</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>price status, OPEN/CLOSE/TERMINATE</td>
</tr>
<tr>
<td>choose</td>
<td>boolean</td>
<td>mark if customer choose</td>
</tr>
<tr>
<td>customID</td>
<td>string</td>
<td>the custom id</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>price</td>
</tr>
<tr>
<td>invalidAt</td>
<td>number</td>
<td>invalid timestamp</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>the associated order id</td>
</tr>
</tbody></table>
<h3 id='faa293bf93'>终止价格</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"OTCTerminatePrice"</span> <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"25ovqdkrm86201g73zx4ynep"</span>,
  <span class="s2">"status"</span>: <span class="s2">"TERMINATE"</span>,
  <span class="s2">"choose"</span>: <span class="nb">true</span>,
  <span class="s2">"customID"</span>: <span class="s2">"0320042810120495"</span>,
  <span class="s2">"price"</span>: <span class="s2">"7739.90"</span>,
  <span class="s2">"invalidAt"</span>: 1588151193,
  <span class="s2">"orderID"</span>: <span class="s2">"8yxkewovldjmmqj2m0n9pz71"</span>
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 拒绝价格</p>
<h4 id='http-29'>HTTP请求</h4>
<p><code>GET /api/v1/otc/price/{priceID}/terminate</code></p>

<p><code>GET /api/v1/otc/price/custom/{customID}/terminate</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>priceID</td>
<td>path</td>
<td>price id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>customID</td>
<td>path</td>
<td>custom id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>price id</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>price status, OPEN/CLOSE/TERMINATE</td>
</tr>
<tr>
<td>choose</td>
<td>boolean</td>
<td>mark if customer choose</td>
</tr>
<tr>
<td>customID</td>
<td>string</td>
<td>the custom id</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>price</td>
</tr>
<tr>
<td>invalidAt</td>
<td>number</td>
<td>invalid timestamp</td>
</tr>
<tr>
<td>orderID</td>
<td>string</td>
<td>the associated order id</td>
</tr>
</tbody></table>
<h2 id='930f2e66d9'>市场</h2><h3 id='6f0286c020'>当前价格</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetMarket"</span> <span class="s2">"BTC"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"price"</span>: <span class="s2">"10000"</span>
<span class="o">}</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getMarket</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取以USD计价的资产价格</p>
<h4 id='http-30'>HTTP请求</h4>
<p><code>GET /api/v1/market/{coinName}</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>asset name</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>string</td>
<td>current price</td>
</tr>
</tbody></table>
<h2 id='1a1f6dff78'>系统</h2><h3 id='7c4d16ae6c'>当前时间戳</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"SystemGetTime"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"timestamp"</span>: 1590391287
<span class="o">}</span>
</code></pre>
<p><strong>总结:</strong> 获取系统当前时间戳</p>
<h4 id='http-31'>HTTP请求</h4>
<p><code>GET /api/v1/system/time</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>number</td>
<td>current timestamp</td>
</tr>
</tbody></table>
<h1 id='api-3'>企业 API</h1><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>git clone https://github.com/nbltrust/hashkey-custody-sdk-golang.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>hashkey-custody-sdk-golang
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">companyKey</span> <span class="o">=</span> <span class="s1">'TyTLvCnHINbWZQag88hhmMz1'</span>
<span class="kr">const</span> <span class="nx">companySecret</span> <span class="o">=</span> <span class="s1">'uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6'</span>
<span class="kr">const</span> <span class="nx">apiAddr</span> <span class="o">=</span> <span class="s1">'http://127.0.0.1:8092'</span>

<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">API</span><span class="p">(</span><span class="nx">companyKey</span><span class="p">,</span> <span class="nx">companySecret</span><span class="p">,</span> <span class="nx">apiAddr</span><span class="p">)</span>
</code></pre><pre class="highlight go tab-go"><code><span class="n">company</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">sdk</span><span class="o">.</span><span class="n">NewCompanyWithAddr</span><span class="p">(</span><span class="n">apiAddr</span><span class="p">,</span><span class="x"> </span><span class="n">key</span><span class="p">,</span><span class="x"> </span><span class="n">secret</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code><span class="n">String</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="s">"http://127.0.0.1:8092"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">appKey</span> <span class="o">=</span> <span class="s">"TyTLvCnHINbWZQag88hhmMz1"</span><span class="o">;</span>
<span class="n">String</span> <span class="n">appSecret</span> <span class="o">=</span> <span class="s">"uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6"</span><span class="o">;</span>
<span class="n">APIContext</span> <span class="n">companyContext</span> <span class="o">=</span> <span class="k">new</span> <span class="n">APIContext</span><span class="o">(</span><span class="n">endpoint</span><span class="o">,</span> <span class="n">appKey</span><span class="o">,</span> <span class="n">appSecret</span><span class="o">);</span>
<span class="n">Company</span> <span class="n">companyTest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Company</span><span class="o">(</span><span class="n">companyContext</span><span class="o">);</span>
</code></pre>
<p>企业 key 和 secret 可在企业设置中生成。</p>
<h2 id='c02d697612-2'>钱包</h2><h3 id='fcbd093292'>创建</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"CreateWallet"</span> <span class="s2">"name"</span> <span class="s2">"password"</span> <span class="s2">"https://noti.domain/callback"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"ylr07eg5p862mkpw"</span>,
  <span class="s2">"appKey"</span>: <span class="s2">"52u036rjmnd5qtwc74vohpj3"</span>,
  <span class="s2">"appSecret"</span>: <span class="s2">"4d6718b405cb55e5544ba0b343472acba8a5a1eb0c5777e4040b38f9edd96a60"</span>,
  <span class="s2">"encryptedAppSecret"</span>: <span class="s2">"7p128MoVWgSFI7AYAUXO9Px72qCNYSvtM5PCAGD3f6de+HjYJbJBEJcTswMH1qdLcKIriuy1RoP6P0YmNeEDlAfSSyJiHrX98Oid5/fuCEs="</span>
<span class="o">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">CreateWallet</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span><span class="x"> </span><span class="s">"password"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://noti.domain/callback"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">createWallet</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"password"</span><span class="o">,</span> <span class="s">"https://noti.domain/callback"</span><span class="o">,</span> <span class="s">"description"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 创建钱包</p>
<h4 id='http-32'>HTTP请求</h4>
<p><code>POST /api/v1/app</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>body</td>
<td>the wallet name</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>password</td>
<td>body</td>
<td>the wallet password, should encrypted by <a href="#aes-encryption">AES encryption</a> and base64 encoded</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>description</td>
<td>body</td>
<td>the wallet description</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>webHook</td>
<td>body</td>
<td>the url will be called when send <a href="#callback">a notification</a></td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>aesIV</td>
<td>body</td>
<td>base64 encoded <a href="#aes-encryption">AES encryption</a> iv, must be 16 bytes, used by encrypting app password and secret</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>wallet id</td>
</tr>
<tr>
<td>appKey</td>
<td>string</td>
<td>the appkey placed in the header of <a href="#wallet-api">Wallet API</a></td>
</tr>
<tr>
<td>encryptedAppSecret</td>
<td>string</td>
<td>the base64 encoded <a href="#aes-encryption">AES encrypted</a> appsecret, the appsecret used for the <a href="#signature">signature</a> of <a href="#wallet-api">Wallet API</a></td>
</tr>
</tbody></table>
<h3 id='appkeys'>获取appkeys</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetWalletKeys"</span> <span class="s2">"appID"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"keys"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"appKey"</span>: <span class="s2">"nq73yzkovqo44fsek2nq37nw"</span>,
      <span class="s2">"appSecret"</span>: <span class="s2">"nn2oh58iuc1sg2adya1golz35cowjbz7r0hfjt2ey6b4fc4xyq6kdopp9tlp0ko3"</span>,
      <span class="s2">"enable"</span>: <span class="nb">true</span>,
      <span class="s2">"encryptedAppSecret"</span>: <span class="s2">"+XowuN5bDYKKoDXvci19uoOiYAR+esV762cnBFCd2oX5pfRvOsCsRCyS0eopj9TdziDCm2N8YIBk+/Gj0JGwwKjtXA829ivYdiiVHEe6jvE="</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">GetWalletKeys</span><span class="p">(</span><span class="s">"appID"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">getWalletKeys</span><span class="o">(</span><span class="s">"appID"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取 appkeys(包括 appsecret)</p>
<h4 id='http-33'>HTTP请求</h4>
<p><code>GET /api/v1/app/{appID}/keys</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>appID</td>
<td>path</td>
<td>wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>aesIV</td>
<td>query</td>
<td>base64 encoded <a href="#aes-encryption">AES encryption</a> iv, must be 16 bytes, used by encrypting app secret in the response</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>keys</td>
<td>array</td>
<td>the appkey list</td>
</tr>
</tbody></table>

<p>key:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>appKey</td>
<td>string</td>
<td>the appkey placed in the header of <a href="#wallet-api">Wallet API</a></td>
</tr>
<tr>
<td>enable</td>
<td>boolean</td>
<td>enable flag, the appkey will been forbidden if set false</td>
</tr>
<tr>
<td>encryptedAppSecret</td>
<td>string</td>
<td>the base64 encoded <a href="#aes-encryption">AES encrypted</a> appsecret, the appsecret used for the <a href="#signature">signature</a> of <a href="#wallet-api">Wallet API</a></td>
</tr>
</tbody></table>
<h3 id='appkey'>更新 appkey</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> UpdateWalletKey <span class="s2">"appKey"</span> <span class="nb">true
</span>code: 0
message: success
data:
<span class="o">{}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">UpdateWalletKey</span><span class="p">(</span><span class="s">"appKey"</span><span class="p">,</span><span class="x"> </span><span class="no">true</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">updateWalletKey</span><span class="o">(</span><span class="s">"appKey"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 更新appkey属性</p>
<h4 id='http-34'>HTTP请求</h4>
<p><code>PUT /api/v1/appKey/{appKey}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>appKey</td>
<td>path</td>
<td>wallet appkey</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>enable</td>
<td>body</td>
<td>enable flag, the appkey will been forbidden if set false</td>
<td>Yes</td>
<td>boolean</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='176a7a1019'>借贷</h2><h3 id='6ccc9aa49c'>获取借贷钱包列表</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetFundingWallets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"wallets"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"balances"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"balance"</span>: <span class="s2">"0.000400000000000000"</span>,
          <span class="s2">"money"</span>: 4.652535315760001,
          <span class="s2">"name"</span>: <span class="s2">"BTC"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
          <span class="s2">"balance"</span>: <span class="s2">"0.450000000000000000"</span>,
          <span class="s2">"money"</span>: 102.18689952390001,
          <span class="s2">"name"</span>: <span class="s2">"ETH"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"id"</span>: <span class="s2">"QrLxg3XgKPMR1O8"</span>,
      <span class="s2">"name"</span>: <span class="s2">"test2"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getFundingWallets</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="p">{</span><span class="na">depth</span><span class="p">:</span> <span class="kc">null</span><span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">GetFundingWallets</span><span class="p">()</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">getFundingWallets</span><span class="o">();</span>
</code></pre>
<p><strong>总结:</strong> 获取借贷钱包列表</p>
<h4 id='http-35'>HTTP请求</h4>
<p><code>GET /api/v1/funding/balances</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>wallets</td>
<td>array</td>
<td>wallet list</td>
</tr>
</tbody></table>
<h3 id='1045de04a1-2'>划转</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"FundingTransfer"</span> <span class="s2">"QrLxg3XgKPMR1O8"</span> <span class="s2">"ZKz8XpwXGPBAQVE"</span> <span class="s2">"BTC"</span> <span class="s2">"0.0001"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"balances"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"assetName"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"balance"</span>: <span class="s2">"0.000300000000000000"</span>,
      <span class="s2">"id"</span>: <span class="s2">"QrLxg3XgKPMR1O8"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"assetName"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"balance"</span>: <span class="s2">"0.000200000000000000"</span>,
      <span class="s2">"id"</span>: <span class="s2">"ZKz8XpwXGPBAQVE"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"record"</span>: <span class="o">{</span>
    <span class="s2">"amount"</span>: <span class="s2">"0.0001"</span>,
    <span class="s2">"assetName"</span>: <span class="s2">"BTC"</span>,
    <span class="s2">"created_at"</span>: 1569306519,
    <span class="s2">"from"</span>: <span class="s2">"QrLxg3XgKPMR1O8"</span>,
    <span class="s2">"id"</span>: <span class="s2">"27x05MGQnwKnKRVeD9Eo"</span>,
    <span class="s2">"memo"</span>: <span class="s2">""</span>,
    <span class="s2">"to"</span>: <span class="s2">"ZKz8XpwXGPBAQVE"</span>,
    <span class="s2">"type"</span>: <span class="s2">"SUPPLY"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kr">const</span> <span class="nx">from</span> <span class="o">=</span> <span class="s1">'L6RayqPn4jXExW0'</span>
        <span class="kr">const</span> <span class="nx">to</span> <span class="o">=</span> <span class="s1">'e5dJyVp8R3B1m4o'</span>
        <span class="kr">const</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="s1">'ETH'</span>
        <span class="kr">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="s1">'0.01'</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">fundingTransfer</span><span class="p">(</span><span class="nx">from</span><span class="p">,</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">FundingTransfer</span><span class="p">(</span><span class="s">"QrLxg3XgKPMR1O8"</span><span class="p">,</span><span class="x"> </span><span class="s">"ZKz8XpwXGPBAQVE"</span><span class="p">,</span><span class="x"> </span><span class="s">"BTC"</span><span class="p">,</span><span class="x"> </span><span class="s">"0.0001"</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">fundingTransfer</span><span class="o">(</span><span class="s">"QrLxg3XgKPMR1O8"</span><span class="o">,</span> <span class="s">"ZKz8XpwXGPBAQVE"</span><span class="o">,</span> <span class="s">"BTC"</span><span class="o">,</span> <span class="s">"0.0001"</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 划转</p>
<h4 id='http-36'>HTTP请求</h4>
<p><code>POST /api/v1/funding/transfer</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>from</td>
<td>body</td>
<td>from wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>to</td>
<td>body</td>
<td>to wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>transfer amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>assetName</td>
<td>body</td>
<td>coin name</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>memo</td>
<td>body</td>
<td>note</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>message</td>
<td>body</td>
<td>message to recipient</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balances</td>
<td>array</td>
<td>balances after transfer</td>
</tr>
<tr>
<td>record</td>
<td>object</td>
<td>transfer record</td>
</tr>
</tbody></table>
<h3 id='a1d6e538d4'>获取记录列表</h3><pre class="highlight shell tab-shell"><code><span class="gp">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetFundingRecords"</span> 1 10
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"records"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"amount"</span>: <span class="s2">"0.000100000000000000"</span>,
      <span class="s2">"assetName"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"created_at"</span>: 1569306519,
      <span class="s2">"from"</span>: <span class="s2">"QrLxg3XgKPMR1O8"</span>,
      <span class="s2">"id"</span>: <span class="s2">"27x05MGQnwKnKRVeD9Eo"</span>,
      <span class="s2">"memo"</span>: <span class="s2">""</span>,
      <span class="s2">"opsAccount"</span>: <span class="s2">"yang.zhang@nbltrust.com"</span>,
      <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
      <span class="s2">"to"</span>: <span class="s2">"ZKz8XpwXGPBAQVE"</span>,
      <span class="s2">"type"</span>: <span class="s2">"SUPPLY"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"amount"</span>: <span class="s2">"0.000100000000000000"</span>,
      <span class="s2">"assetName"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"created_at"</span>: 1564124679,
      <span class="s2">"from"</span>: <span class="s2">"QrLxg3XgKPMR1O8"</span>,
      <span class="s2">"id"</span>: <span class="s2">"qDP67gB3XPon14v92jW5"</span>,
      <span class="s2">"memo"</span>: <span class="s2">""</span>,
      <span class="s2">"opsAccount"</span>: <span class="s2">"yang.zhang@nbltrust.com"</span>,
      <span class="s2">"status"</span>: <span class="s2">"OPEN"</span>,
      <span class="s2">"to"</span>: <span class="s2">"ZKz8XpwXGPBAQVE"</span>,
      <span class="s2">"type"</span>: <span class="s2">"SUPPLY"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"totalAmount"</span>: 2
<span class="o">}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getFundingRecords</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre><pre class="highlight go tab-go"><code><span class="x">    </span><span class="n">result</span><span class="p">,</span><span class="x"> </span><span class="n">_</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">company</span><span class="o">.</span><span class="n">GetFundingRecords</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="x"> </span><span class="m">10</span><span class="p">)</span><span class="x">
</span></code></pre><pre class="highlight java tab-java"><code>  <span class="n">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">getFundingRecords</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
</code></pre>
<p><strong>总结:</strong> 获取记录列表</p>
<h4 id='http-37'>HTTP请求</h4>
<p><code>GET /api/v1/funding/records</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>page, e.g. 1</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>amount</td>
<td>query</td>
<td>item count on this page, e.g. 10</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coins</td>
<td>query</td>
<td>coin list, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>froms</td>
<td>query</td>
<td>from list, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>toes</td>
<td>query</td>
<td>to list, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>query</td>
<td>record type, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>orderBy</td>
<td>query</td>
<td>order by</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>sort</td>
<td>query</td>
<td>sort</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>records</td>
<td>array</td>
<td>record list</td>
</tr>
</tbody></table>
<h2 id='trading'>Trading</h2><h3 id='7096aff87d'>获取交易所列表</h3><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getExchanges</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="p">{</span><span class="na">depth</span><span class="p">:</span> <span class="kc">null</span><span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<p><strong>总结:</strong> 获取交易所列表</p>
<h4 id='http-38'>HTTP请求</h4>
<p><code>GET /api/v1/exchanges</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>exchanges</td>
<td>array</td>
<td>exchanges list</td>
</tr>
</tbody></table>
<h3 id='8f11bcbf50'>获取交易所余额</h3><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getExchangeBalances</span><span class="p">(</span><span class="s2">"z41mwygl0gnl2keo"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">dir</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="p">{</span><span class="na">depth</span><span class="p">:</span> <span class="kc">null</span><span class="p">})</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<p><strong>总结:</strong> 获取交易所余额</p>
<h4 id='http-39'>HTTP请求</h4>
<p><code>GET /api/v1/exchange/balances</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>exchangeID</td>
<td>query</td>
<td>exchange id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balances</td>
<td>array</td>
<td>balances list</td>
</tr>
</tbody></table>
<h3 id='12c773032b'>交易所划转</h3><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">tradingTransfer</span><span class="p">(</span><span class="s2">"WALLET"</span><span class="p">,</span> <span class="s2">"rKyOD9pAJPAg54e"</span><span class="p">,</span> <span class="s2">"EXCHANGE"</span><span class="p">,</span> <span class="s2">"qdkrm8621j73zx4y"</span><span class="p">,</span> <span class="s2">"USDT"</span><span class="p">,</span> <span class="s2">"2.73"</span><span class="p">,</span> <span class="s2">"wallet to binance"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<p><strong>总结:</strong> 交易所划转</p>
<h4 id='http-40'>HTTP请求</h4>
<p><code>POST /api/v1/exchange/transfer</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>fromType</td>
<td>body</td>
<td>from type: enum[EXCHANGE,WALLET]</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>fromID</td>
<td>body</td>
<td>from id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>toType</td>
<td>body</td>
<td>to type: enum[EXCHANGE,WALLET]</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>toID</td>
<td>body</td>
<td>to id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>amount</td>
<td>body</td>
<td>transfer amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>assetName</td>
<td>body</td>
<td>coin name</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>remark</td>
<td>body</td>
<td>remark</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>withdrawID</td>
<td>string</td>
<td>withdraw order id</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>real transfer amount</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>exchange fee amount</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>withdraw order status, enum[PENDING,FAILED,DONE]</td>
</tr>
</tbody></table>
<h3 id='38cab8ef6f'>获取交易所记录列表</h3><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getExchangeFundings</span><span class="p">(</span><span class="s2">"z41mwygl0gnl2keo"</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<p><strong>总结:</strong> 获取交易所记录</p>
<h4 id='http-41'>HTTP请求</h4>
<p><code>GET /api/v1/exchange/funding/records</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>exchangeID</td>
<td>query</td>
<td>exchange id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>page, e.g. 1, 50 items per page</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>totalAmount</td>
<td>number</td>
<td>total record number</td>
</tr>
<tr>
<td>records</td>
<td>array</td>
<td>record list</td>
</tr>
</tbody></table>
<h3 id='0a96c16f68'>获取交易所记录</h3><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">getExchangeFunding</span><span class="p">(</span><span class="s2">"3qky8xo2l0gpdg7erpmdwzn1"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>
<p><strong>总结:</strong> 获取交易所记录</p>
<h4 id='http-42'>HTTP请求</h4>
<p><code>GET /api/v1/exchange/funding/record</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>query</td>
<td>record id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>record id</td>
</tr>
<tr>
<td>fromType</td>
<td>string</td>
<td>from type: enum[EXCHANGE,WALLET]</td>
</tr>
<tr>
<td>fromID</td>
<td>string</td>
<td>from id</td>
</tr>
<tr>
<td>fromName</td>
<td>string</td>
<td>from name</td>
</tr>
<tr>
<td>toType</td>
<td>string</td>
<td>to type: enum[EXCHANGE,WALLET]</td>
</tr>
<tr>
<td>toID</td>
<td>string</td>
<td>to id</td>
</tr>
<tr>
<td>toName</td>
<td>string</td>
<td>to name</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>record status</td>
</tr>
<tr>
<td>assetName</td>
<td>string</td>
<td>coin name</td>
</tr>
<tr>
<td>amount</td>
<td>string</td>
<td>amount</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee amount</td>
</tr>
<tr>
<td>remark</td>
<td>string</td>
<td>record remark</td>
</tr>
<tr>
<td>createdAt</td>
<td>number</td>
<td>unix timestamp, seconds</td>
</tr>
</tbody></table>
<h1 id='c76b97433d'>回调</h1><h2 id='81b3798beb'>订单</h2>
<blockquote>
<p>订单通知发送的 JSON 结构如下:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2XB0eKAvj7KvjZDk59zl"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"withdrawID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7Cab38EA42538f4D8C2"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bizType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPOSIT"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"coinName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DONE"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x29152c850456899A78178622B6543BBFfC224495"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"block"</span><span class="p">:</span><span class="w"> </span><span class="mi">13721091</span><span class="p">,</span><span class="w">
  </span><span class="s2">"affirmativeConfirmation"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="s2">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"796dde931a15c98edc3dfdb65a2c2addfde422f217a1f6934be9226542839aa0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p><strong>回调结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>the order ID</td>
</tr>
<tr>
<td>withdrawID</td>
<td>string</td>
<td>withdraw id</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>affirmativeConfirmation</td>
<td>number</td>
<td>affirmative confirmation of the blockchain</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>order note, editable on admin</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>the order index</td>
</tr>
<tr>
<td>sign</td>
<td>string</td>
<td>hex string, sign parameters with HMACSHA256</td>
</tr>
</tbody></table>
<h3 id='8ba46c43fe'>签名</h3>
<p>上面的 sign 参数可以通过下面的方法验证，以保证这个回调结果的发送方身份:</p>

<ol>
<li><p>形成一个字符串消息（排序），其中包含数据prarams（排除 sign）。</p>

<p>如果body params是: 
</br>
<code>
{
&quot;id&quot;: &quot;2XB0eKAvj7KvjZDk59zl&quot;,
&quot;withdrawID&quot;: &quot;7Cab38EA42538f4D8C2&quot;,
&quot;bizType&quot;: &quot;DEPOSIT&quot;,
&quot;coinName&quot;: &quot;ETH&quot;,
&quot;type&quot;: &quot;ETH&quot;,
&quot;state&quot;: &quot;DONE&quot;,
&quot;memo&quot;: &quot;&quot;,
&quot;value&quot;: &quot;1.000000000000000000&quot;,
&quot;fee&quot;: &quot;0.000000000000000000&quot;,
&quot;from&quot;: &quot;0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072&quot;,
&quot;to&quot;: &quot;0x29152c850456899A78178622B6543BBFfC224495&quot;,
&quot;txid&quot;: &quot;0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59&quot;,
&quot;n&quot;: 0,
&quot;block&quot;: 13721091,
&quot;affirmativeConfirmation&quot;: 20,
&quot;confirmations&quot;: 27
}
</code></p>

<p>消息字符串如下:
</br>
<code>
affirmativeConfirmation=20&amp;bizType=DEPOSIT&amp;block=13721091&amp;coinName=ETH&amp;confirmations=27&amp;fee=0.000000000000000000&amp;from=0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072&amp;id=2XB0eKAvj7KvjZDk59zl&amp;memo=&amp;n=0&amp;state=DONE&amp;to=0x29152c850456899A78178622B6543BBFfC224495&amp;txid=0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59&amp;type=ETH&amp;value=1.000000000000000000&amp;withdrawID=7Cab38EA42538f4D8C2
</code></p></li>
<li><p>使用HMAC-SHA256对消息进行签名。如果 AppSecret 是 <code>exzYZT8IubM9Jxq1PWU5QjZ0JFP81bvCmlf1fFjW0b87Zr6eAMdofeYlhAMZxPzo</code>, 那么sign param 如下:
</br>
<code>
fb0f53f33bba4cfa4bcb2c81e976bbe817633ba87a9904b6c3de293da3805cb3
</code></p></li>
</ol>
<h1 id='8ba46c43fe-2'>签名</h1>
<ol>
<li><p>G获取当前的时间戳（秒）和nonce（随机字符串）。请确保时间戳错误不超过5分钟，nonce不在10分钟内重复。</p></li>
<li><p>形成一个字符串消息（排序），其中包含数据prarams，上述时间戳和随机字符串。</p>

<p>如果body params是: 
</br>
<code>
{
&quot;mode&quot;: &quot;auto&quot;
}
</code></p>

<p>消息字符串如下:
</br>
<code>
mode=auto&amp;nonce=15833762841261615239762485&amp;timestamp=1583376284
</code></p></li>
<li><p>使用HMAC-SHA256对消息进行签名。如果 AppSecret 是 <code>yeTJ3EnOkyQQEjhTMVqn165Dqjp43bhTwXLIv25Ycdu8qwDOyqpa0WV54C6sO4HW</code>, 那么sign param 如下:
</br>
<code>
7042a9fd6deea017be7ad76dfb48e4c36feca279819630c870a628f5352c9044
</code></p></li>
<li><p>发送请求的格式与 <a href="#general-structure">一般结构</a>中所述的相同。</p></li>
</ol>
<h1 id='aes'>AES 加密</h1>
<p>加密有两部分: key 和 iv。 key 是 sha256(CompanySecret)， iv 是一个长度为16的随机字节。以下为用python编写的加密appSecret的例子。</p>
<pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">AES</span>

<span class="k">def</span> <span class="nf">_pad</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span> <span class="o">+</span> <span class="p">(</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">%</span> <span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">)</span> <span class="o">*</span> <span class="nb">chr</span><span class="p">(</span><span class="n">AES</span><span class="o">.</span><span class="n">block_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">%</span> <span class="n">AES</span><span class="o">.</span><span class="n">block_size</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_unpad</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:])]</span>

<span class="n">companySecret</span> <span class="o">=</span> <span class="n">b</span><span class="s">'kfTKfuSV5oiuFZENI6tv1OwfiJ1tEv70HnmJsVxNGCu2YEKqEq2QHpBGgqwRa29R'</span>
<span class="n">appSecret</span> <span class="o">=</span> <span class="s">'nn2oh58iuc1sg2adya1golz35cowjbz7r0hfjt2ey6b4fc4xyq6kdopp9tlp0ko3'</span>

<span class="n">aeskey</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">companySecret</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">())</span>
<span class="n">iv</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="s">'MTIzNDU2Nzg5MDEyMzQ1Ng=='</span><span class="p">)</span>

<span class="n">decipher</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">aeskey</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">IV</span><span class="o">=</span><span class="n">iv</span><span class="p">)</span>
<span class="n">encryptedAppSecret</span> <span class="o">=</span> <span class="n">decipher</span><span class="o">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">_pad</span><span class="p">(</span><span class="n">appSecret</span><span class="p">))</span>
<span class="n">base64EncryptedAppSecret</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">encryptedAppSecret</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">base64EncryptedAppSecret</span><span class="p">)</span>

<span class="n">decipher</span> <span class="o">=</span> <span class="n">AES</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">aeskey</span><span class="p">,</span> <span class="n">AES</span><span class="o">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">IV</span><span class="o">=</span><span class="n">iv</span><span class="p">)</span>
<span class="n">plaintext</span> <span class="o">=</span> <span class="n">_unpad</span><span class="p">(</span><span class="n">decipher</span><span class="o">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">base64EncryptedAppSecret</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>
</code></pre><h1 id='185368440e'>更新日志</h1>
<table><thead>
<tr>
<th>发布时间</th>
<th>API</th>
<th>新建 / 更新</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>2020-09-04 14:00</td>
<td>-</td>
<td>-</td>
<td>update the documentation</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>The Hashkey Prime API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>10001</td>
<td>Bad Key -- Your API key is wrong.</td>
</tr>
<tr>
<td>10002</td>
<td>Bad Sign -- Your API signature is wrong.</td>
</tr>
<tr>
<td>10003</td>
<td>Bad Timestamp -- Your API timestamp is wrong.</td>
</tr>
<tr>
<td>10004</td>
<td>Repeated Nonce -- Your API nonce was given before.</td>
</tr>
<tr>
<td>10005</td>
<td>Bad Params -- Your request parameters is invalid.</td>
</tr>
<tr>
<td>10006</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>10007</td>
<td>API Closed -- We don&#39;t provide the API anymore.</td>
</tr>
<tr>
<td>20001</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>20002</td>
<td>Not Enough -- The wallet balance isn&#39;t enough.</td>
</tr>
<tr>
<td>20003</td>
<td>Repeated Request -- The specified resource has existed.</td>
</tr>
<tr>
<td>20005</td>
<td>Too Small -- The amount is too small caused by fee.</td>
</tr>
<tr>
<td>20007</td>
<td>Forbidden -- The API is hidden for the user.</td>
</tr>
<tr>
<td>20008</td>
<td>In Blacklist -- The request address in the blacklist.</td>
</tr>
<tr>
<td>20009</td>
<td>Not In Whitelist -- The request address not in the whitelist.</td>
</tr>
<tr>
<td>20010</td>
<td>Not In Package -- The package don&#39;t support this feature. Please upgrade the package.</td>
</tr>
<tr>
<td>20011</td>
<td>Hour Limit -- The request hit the hour limit of order.</td>
</tr>
<tr>
<td>20012</td>
<td>Day Limit -- The request hit the day limit of order.</td>
</tr>
<tr>
<td>20013</td>
<td>Transaction Limit -- The request hit the transaction limit of order.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
