
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>HashKey Custody API Documentation</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-cf1f8d93.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-966d6edc.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-a5af2e47.js"></script>

  </head>

  <body class="index-zhs" data-languages="[&quot;shell&quot;,&quot;javascript&quot;,&quot;go&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-b57c9de5.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="go">go</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#45fa4e00db" class="toc-h1 toc-link" data-title="介绍">介绍</a>
          </li>
          <li>
            <a href="#aa3833ea2a" class="toc-h1 toc-link" data-title="环境">环境</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#7f152260df" class="toc-h2 toc-link" data-title="生产环境">生产环境</a>
                  </li>
                  <li>
                    <a href="#7a4cfb2662" class="toc-h2 toc-link" data-title="测试环境">测试环境</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#48630bb5a8" class="toc-h1 toc-link" data-title="支持的代币/数字货币">支持的代币/数字货币</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API 认证">API 认证</a>
          </li>
          <li>
            <a href="#9ec5ff78d5" class="toc-h1 toc-link" data-title="一般结构">一般结构</a>
          </li>
          <li>
            <a href="#api-2" class="toc-h1 toc-link" data-title="钱包 API">钱包 API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#67d2d7970f" class="toc-h2 toc-link" data-title="地址">地址</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7e1c81cbed" class="toc-h3 toc-link" data-title="获取最新地址">获取最新地址</a>
                          </li>
                          <li>
                            <a href="#6d25fafca5" class="toc-h3 toc-link" data-title="创建新地址">创建新地址</a>
                          </li>
                          <li>
                            <a href="#c87a67284f" class="toc-h3 toc-link" data-title="验证地址">验证地址</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#c02d697612" class="toc-h2 toc-link" data-title="钱包">钱包</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#6cb2ed599e" class="toc-h3 toc-link" data-title="获取所有可用资产">获取所有可用资产</a>
                          </li>
                          <li>
                            <a href="#a03f80faa5" class="toc-h3 toc-link" data-title="获取钱包余额">获取钱包余额</a>
                          </li>
                          <li>
                            <a href="#4fdde8d3c3" class="toc-h3 toc-link" data-title="添加钱包资产">添加钱包资产</a>
                          </li>
                          <li>
                            <a href="#9197cb62dd" class="toc-h3 toc-link" data-title="获取钱包单个币种余额">获取钱包单个币种余额</a>
                          </li>
                          <li>
                            <a href="#9ddf095837" class="toc-h3 toc-link" data-title="获取钱包资产">获取钱包资产</a>
                          </li>
                          <li>
                            <a href="#1417739917" class="toc-h3 toc-link" data-title="获取钱包资产详情">获取钱包资产详情</a>
                          </li>
                          <li>
                            <a href="#2e24ba538e" class="toc-h3 toc-link" data-title="获取钱包订单">获取钱包订单</a>
                          </li>
                          <li>
                            <a href="#402f86af78" class="toc-h3 toc-link" data-title="获取钱包单笔订单">获取钱包单笔订单</a>
                          </li>
                          <li>
                            <a href="#07bb09a568" class="toc-h3 toc-link" data-title="更新钱包订单">更新钱包订单</a>
                          </li>
                          <li>
                            <a href="#a471daf080" class="toc-h3 toc-link" data-title="提现">提现</a>
                          </li>
                          <li>
                            <a href="#1045de04a1" class="toc-h3 toc-link" data-title="划转">划转</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#a8a40acd93" class="toc-h2 toc-link" data-title="质押">质押</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#validators" class="toc-h3 toc-link" data-title="获取质押validators">获取质押validators</a>
                          </li>
                          <li>
                            <a href="#b6ce0c4dd3" class="toc-h3 toc-link" data-title="抵押">抵押</a>
                          </li>
                          <li>
                            <a href="#7f551949fb" class="toc-h3 toc-link" data-title="解抵押">解抵押</a>
                          </li>
                          <li>
                            <a href="#482d047760" class="toc-h3 toc-link" data-title="添加资金需求">添加资金需求</a>
                          </li>
                          <li>
                            <a href="#177f4488ad" class="toc-h3 toc-link" data-title="获取质押利息">获取质押利息</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#8f74cd015b" class="toc-h2 toc-link" data-title="白名单">白名单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7b7bd4a90d" class="toc-h3 toc-link" data-title="添加白名单">添加白名单</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#930f2e66d9" class="toc-h2 toc-link" data-title="市场">市场</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#6f0286c020" class="toc-h3 toc-link" data-title="当前价格">当前价格</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#1a1f6dff78" class="toc-h2 toc-link" data-title="系统">系统</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#7c4d16ae6c" class="toc-h3 toc-link" data-title="当前时间戳">当前时间戳</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-3" class="toc-h1 toc-link" data-title="企业 API">企业 API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#c02d697612-2" class="toc-h2 toc-link" data-title="钱包">钱包</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#fcbd093292" class="toc-h3 toc-link" data-title="创建">创建</a>
                          </li>
                          <li>
                            <a href="#appkeys" class="toc-h3 toc-link" data-title="获取appkeys">获取appkeys</a>
                          </li>
                          <li>
                            <a href="#appkey" class="toc-h3 toc-link" data-title="更新 appkey">更新 appkey</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#4613903460" class="toc-h2 toc-link" data-title="财务">财务</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#36e0803c31" class="toc-h3 toc-link" data-title="收入与支出">收入与支出</a>
                          </li>
                          <li>
                            <a href="#986aedb65a" class="toc-h3 toc-link" data-title="财务报表">财务报表</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#c76b97433d" class="toc-h1 toc-link" data-title="回调">回调</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#81b3798beb" class="toc-h2 toc-link" data-title="订单">订单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#8ba46c43fe" class="toc-h3 toc-link" data-title="签名">签名</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#8ba46c43fe-2" class="toc-h1 toc-link" data-title="签名">签名</a>
          </li>
          <li>
            <a href="#aes" class="toc-h1 toc-link" data-title="AES 加密">AES 加密</a>
          </li>
          <li>
            <a href="#ecc" class="toc-h1 toc-link" data-title="ECC 签名">ECC 签名</a>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/HKDAG/hashkey-custody-api-docs'>Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='45fa4e00db'>介绍</h1>
<p>Hashkey Custody 提供了一个简单而强大的 RESTful API 和客户端 SDK ，以将数字货币钱包与用户的应用程序集成在一起。欢迎查看我们的 <a href="https://github.com/HKDAG/hashkey-custody-sdk-nodejs.git">NodeJs SDK</a>, <a href="https://github.com/HKDAG/hashkey-custody-sdk-go.git">Go SDK</a>, <a href="https://github.com/HKDAG/jadepool-saas-sdk-java.git">Java SDK</a>接口。我们提供 2 个级别的 API, 管理API 和 钱包API。</p>

<p>管理 API 可以实现以下功能:</p>

<ul>
<li>创建钱包</li>
</ul>

<p>钱包 API 可以实现以下功能:</p>

<ul>
<li>钱包余额和交易清单</li>
<li>交易创建</li>
<li>交易监控和通知</li>
</ul>
<h1 id='aa3833ea2a'>环境</h1>
<p>HashKey Custody 有两个用于开发和生产的独立环境。 出于安全考虑, 所有API请求均使用TLS加密的HTTPS协议发出。</p>
<h2 id='7f152260df'>生产环境</h2>
<p>生产端点是线上环境，提供给合作伙伴使用。</p>
<h2 id='7a4cfb2662'>测试环境</h2>
<p>测试环境与生产环境完全分开，无论是数据还是账户都没有重叠。</p>

<p>该环境连接到我们支持的各种数字货币的TestNet网络。 这些网络上的代币可以从水龙头上获得，并不代表真实的货币。</p>
<h1 id='48630bb5a8'>支持的代币/数字货币</h1>
<p>关于生产环境， 请参考文档。</p>

<blockquote>
<p>https://XXXXX</p>
</blockquote>

<p>关于测试环境，请参考列表:</p>

<table><thead>
<tr>
<th>代币</th>
<th>区块链</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>ETH</td>
<td>Ethereum</td>
<td>Sepolia Testnet</td>
</tr>
<tr>
<td>USDT</td>
<td>Ethereum</td>
<td>Sepolia Testnet, ERC20</td>
</tr>
<tr>
<td>TRX</td>
<td>Tron</td>
<td>Tron Testnet</td>
</tr>
<tr>
<td>BTC</td>
<td>Bitcoin</td>
<td>public Testnet</td>
</tr>
</tbody></table>
<h1 id='api'>API 认证</h1><h1 id='9ec5ff78d5'>一般结构</h1>
<p>服务器验证请求的一般请求结构。</p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>query/body</td>
<td>unix timestamp, seconds</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>nonce</td>
<td>query/body</td>
<td>nonce, random string, not repeated in 10 minutes</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>sign</td>
<td>query/body</td>
<td>hex string, sign parameters with HMACSHA256</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p>参数 <code>timestamp</code>， <code>nonce</code> 和 <code>sign</code> 位于GET请求的query中, 但位于POST请求的body中。</p>

<p>如果是 POST 请求, body 结构如下:</p>

<p><code>
{ 
  &quot;timestamp&quot;: 1583376284,
  &quot;nonce&quot;: &quot;15833762841261615239762485&quot;,
  &quot;mode&quot;: &quot;auto&quot;,
  &quot;sign&quot;:&quot;7042a9fd6deea017be7ad76dfb48e4c36feca279819630c870a628f5352c9044&quot;
}
</code></p>

<p>如果是 GET 请求, url 结构如下:</p>

<p><code>
/api/v1/app/balance/ETH?timestamp=1583374390&amp;nonce=1583374390314165815853245&amp;sign=7c482cf15d9d25772eee2c43bd146c8136472a055b4587b9fb22d02720037875
</code></p>

<p><font size=4> <a href="#signature">签名方式</a> 类似于 OAuth.</font></p>
<h1 id='api-2'>钱包 API</h1><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>git clone https://github.com/nbltrust/hashkey-custody-sdk-golang.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>hashkey-custody-sdk-golang
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">key</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">TyTLvCnHINbWZQag88hhmMz1</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">apiAddr</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">http://127.0.0.1:8092</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">API</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">secret</span><span class="p">,</span> <span class="nx">apiAddr</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">app</span> <span class="o">:=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">NewAppWithAddr</span><span class="p">(</span><span class="n">apiAddr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">String</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="s">"http://127.0.0.1:8092"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">appKey</span> <span class="o">=</span> <span class="s">"TyTLvCnHINbWZQag88hhmMz1"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">appSecret</span> <span class="o">=</span> <span class="s">"uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6"</span><span class="o">;</span>

<span class="nc">APIContext</span> <span class="n">appContext</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">APIContext</span><span class="o">(</span><span class="n">endpoint</span><span class="o">,</span> <span class="n">appKey</span><span class="o">,</span> <span class="n">appSecret</span><span class="o">);</span>
<span class="nc">App</span> <span class="n">appTest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">App</span><span class="o">(</span><span class="n">appContext</span><span class="o">);</span>
</code></pre></div>
<p>钱包的 key 和 secret 可在钱包的设置中生成。</p>

<p>出于安全考虑，强烈建议您为 API Key 绑定 IP 地址或 IP 段。</p>

<p><strong>风险提示：</strong>API Key/Secret 与账号安全紧密相关，无论何时都请勿向其它人透露。API Key/Secret 的泄露可能会造成您的资产损失（即使未开通提现权限），若发现API Key/Secret 泄露请尽快删除该API Key。</p>
<h2 id='67d2d7970f'>地址</h2><h3 id='7e1c81cbed'>获取最新地址</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAddress"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"mode"</span>: <span class="s2">"deposit"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAddress</span><span class="p">(</span><span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取最新地址, 若不存在即创建</p>
<h4 id='http'>HTTP请求</h4>
<p><code>GET /api/v1/address/{coinName}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the new address</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>address mode</td>
</tr>
</tbody></table>
<h3 id='6d25fafca5'>创建新地址</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"CreateAddress"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"mode"</span>: <span class="s2">"deposit"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">createAddress</span><span class="p">(</span><span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">app</span><span class="o">.</span><span class="n">CreateAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">createAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 创建新地址</p>
<h4 id='http-2'>HTTP请求</h4>
<p><code>POST /api/v1/address/{coinName}/new</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>mode</td>
<td>body</td>
<td>mode</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the new address</td>
</tr>
<tr>
<td>mode</td>
<td>string</td>
<td>address mode</td>
</tr>
</tbody></table>
<h3 id='c87a67284f'>验证地址</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"VerifyAddress"</span> <span class="s2">"ETH"</span> <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"address"</span>: <span class="s2">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span>,
  <span class="s2">"valid"</span>: <span class="nb">true</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">verifyAddress</span><span class="p">(</span><span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">,</span> <span class="nx">address</span><span class="p">)</span> 
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">VerifyAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">,</span> <span class="s">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">verifyAddress</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">,</span> <span class="s">"0x9bf65CDF5729b9588F6bAEBb2Aa2926472D4a035"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 验证地址</p>
<h4 id='http-3'>HTTP请求</h4>
<p><code>POST /api/v1/address/{coinName}/verify</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coinName</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>address</td>
<td>body</td>
<td>address</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>the address to validate</td>
</tr>
<tr>
<td>valid</td>
<td>boolean</td>
<td>the address is valid or not</td>
</tr>
</tbody></table>
<h2 id='c02d697612'>钱包</h2><h3 id='6cb2ed599e'>获取所有可用资产</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAllAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="s2">"ETH"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAllAssets</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetAllAssets</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAllAssets</span><span class="o">();</span>
</code></pre></div>
<p><strong>总结:</strong> 获取所有可用资产</p>
<h4 id='http-4'>HTTP请求</h4>
<p><code>GET /api/v1/app/allAssets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>
<h3 id='a03f80faa5'>获取钱包余额</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetBalances"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"balances"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"balance"</span>: <span class="s2">"10001.225"</span>,
      <span class="s2">"money"</span>: <span class="s2">"98175466.911631525"</span>,
      <span class="s2">"name"</span>: <span class="s2">"BTC"</span>,
      <span class="s2">"price"</span>: <span class="s2">"9816.344189"</span>,
      <span class="s2">"outLocked"</span>: <span class="s2">"11.2"</span>,
      <span class="s2">"inLocked"</span>: <span class="s2">"11.2"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"balance"</span>: <span class="s2">"1.0"</span>,
      <span class="s2">"money"</span>: <span class="s2">"246.565827"</span>,
      <span class="s2">"name"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"price"</span>: <span class="s2">"246.565827"</span>,
      <span class="s2">"outLocked"</span>: <span class="s2">"11.2"</span>,
      <span class="s2">"inLocked"</span>: <span class="s2">"11.2"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: <span class="s2">"98175713.477458525"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBalances</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetBalances</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getBalances</span><span class="o">();</span>
</code></pre></div>
<p><strong>总结:</strong> 获取所有资产余额， 包括以美元计算的数量和价格</p>
<h4 id='http-5'>HTTP请求</h4>
<p><code>GET /api/v1/app/balances</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>total</td>
<td>string</td>
<td>total money(USD)</td>
</tr>
<tr>
<td>balances</td>
<td>array</td>
<td>the wallet balance list</td>
</tr>
</tbody></table>

<p>余额:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>币种余额</td>
</tr>
<tr>
<td>money</td>
<td>string</td>
<td>币种余额对应的美元价值</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>币种名称</td>
</tr>
<tr>
<td>price</td>
<td>string</td>
<td>币种价格(USD)</td>
</tr>
<tr>
<td>outLocked</td>
<td>string</td>
<td>币种转出锁定余额</td>
</tr>
<tr>
<td>inLocked</td>
<td>string</td>
<td>币种转入锁定余额</td>
</tr>
</tbody></table>
<h3 id='4fdde8d3c3'>添加钱包资产</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"AddAsset"</span> <span class="s2">"BTC"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addAppAsset</span><span class="p">(</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">AddAsset</span><span class="p">(</span><span class="s">"BTC"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">addAppAsset</span><span class="o">(</span><span class="s">"BTC"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 添加钱包资产</p>
<h4 id='http-6'>HTTP请求</h4>
<p><code>POST /api/v1/app/assets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>body</td>
<td>asset name</td>
<td>Yes</td>
<td>array</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='9197cb62dd'>获取钱包单个币种余额</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetBalance"</span> <span class="s2">"ETH"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"balance"</span>: <span class="s2">"0.450000000000000000"</span>,
  <span class="s2">"inLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"inLockedFee"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"outLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"outLockedFee"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingBalance"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"stakingOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateAmount"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"delegateOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateAmount"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateInLocked"</span>: <span class="s2">"0.000000000000000000"</span>,
  <span class="s2">"undelegateOutLocked"</span>: <span class="s2">"0.000000000000000000"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getBalance</span><span class="p">(</span><span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetBalance</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getBalance</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取钱包余额</p>
<h4 id='http-7'>HTTP请求</h4>
<p><code>GET /api/v1/app/balance/{coinName}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>balance</td>
<td>string</td>
<td>the coin balance</td>
</tr>
<tr>
<td>inLocked</td>
<td>string</td>
<td>the coin transfer in amount under locked</td>
</tr>
<tr>
<td>inLockedFee</td>
<td>string</td>
<td>the coin transfer in fee under locked</td>
</tr>
<tr>
<td>outLocked</td>
<td>string</td>
<td>the coin transfer out amount under locked</td>
</tr>
<tr>
<td>outLockedFee</td>
<td>string</td>
<td>the coin transfer out fee under locked</td>
</tr>
<tr>
<td>stakingBalance</td>
<td>string</td>
<td>the staking coin balance</td>
</tr>
<tr>
<td>stakingInLocked</td>
<td>string</td>
<td>the staking coin transfer in amount under locked</td>
</tr>
<tr>
<td>stakingOutLocked</td>
<td>string</td>
<td>the staking coin transfer out amount under locked</td>
</tr>
<tr>
<td>delegateAmount</td>
<td>string</td>
<td>the coin delegate amount</td>
</tr>
<tr>
<td>delegateInLocked</td>
<td>string</td>
<td>the coin delegate transfer in amount under locked</td>
</tr>
<tr>
<td>delegateOutLocked</td>
<td>string</td>
<td>the coin delegate transfer out amount under locked</td>
</tr>
<tr>
<td>undelegateAmount</td>
<td>string</td>
<td>the undelegate coin amount</td>
</tr>
<tr>
<td>undelegateInLocked</td>
<td>string</td>
<td>the undelegate coin transfer in amount under locked</td>
</tr>
<tr>
<td>undelegateOutLocked</td>
<td>string</td>
<td>the undelegate coin transfer out amount under locked</td>
</tr>
</tbody></table>
<h3 id='9ddf095837'>获取钱包资产</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="s2">"ETH"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getAssets</span><span class="p">()</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetAssets</span><span class="p">()</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getAssets</span><span class="o">();</span>
</code></pre></div>
<p><strong>总结:</strong> 获取钱包资产</p>
<h4 id='http-8'>HTTP请求</h4>
<p><code>GET /api/v1/app/assets</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>
<h3 id='1417739917'>获取钱包资产详情</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetAssets"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"assets"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"id"</span>: 1,
      <span class="s2">"name"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"absFee"</span>: <span class="s2">"0.005"</span>,
      <span class="s2">"canDeposit"</span>: <span class="nb">true</span>,
      <span class="s2">"canWithdraw"</span>: <span class="nb">true</span>,
      <span class="s2">"decimal"</span>: 18,
      <span class="s2">"description"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"feeCoin"</span>: <span class="s2">"ETH"</span>,
      <span class="s2">"priorityAverage"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.02"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"4.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityFast"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.025"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"5.0"</span>
      <span class="o">}</span>,
      <span class="s2">"prioritySlow"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.01"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"2.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityVeryFast"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.03"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"6.0"</span>
      <span class="o">}</span>,
      <span class="s2">"priorityVerySlow"</span>: <span class="o">{</span>
        <span class="s2">"fee"</span>: <span class="s2">"0.015"</span>,
        <span class="s2">"priority"</span>: <span class="s2">"3.0"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div>
<p><strong>总结:</strong> 获取钱包资产详情</p>
<h4 id='http-9'>HTTP请求</h4>
<p><code>GET /api/v1/app/assetsWithID</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>assets</td>
<td>array</td>
<td>the wallet coin list</td>
</tr>
</tbody></table>

<p>资产:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>number</td>
<td>the asset id</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>the asset name</td>
</tr>
<tr>
<td>absFee</td>
<td>string</td>
<td>withdraw fee</td>
</tr>
<tr>
<td>canDeposit</td>
<td>boolean</td>
<td>whether or not the asset can be deposited</td>
</tr>
<tr>
<td>canWithdraw</td>
<td>boolean</td>
<td>whether or not the asset can be withdrawn</td>
</tr>
<tr>
<td>decimal</td>
<td>number</td>
<td>the asset decimal</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>the asset description</td>
</tr>
<tr>
<td>feeCoin</td>
<td>string</td>
<td>withdraw fee coin</td>
</tr>
<tr>
<td>priorityAverage</td>
<td>object</td>
<td>withdraw fee with average priority</td>
</tr>
<tr>
<td>priorityFast</td>
<td>object</td>
<td>withdraw fee with fast priority</td>
</tr>
<tr>
<td>prioritySlow</td>
<td>object</td>
<td>withdraw fee with slow priority</td>
</tr>
<tr>
<td>priorityVeryFast</td>
<td>object</td>
<td>withdraw fee with very fast priority</td>
</tr>
<tr>
<td>priorityVerySlow</td>
<td>object</td>
<td>withdraw fee with very slow priority</td>
</tr>
</tbody></table>

<p>优先级:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>fee</td>
<td>string</td>
<td>fee with the priority</td>
</tr>
<tr>
<td>priority</td>
<td>string</td>
<td>the priority, set into the withdraw request</td>
</tr>
</tbody></table>
<h3 id='2e24ba538e'>获取钱包订单</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetOrders"</span> 1 10
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"totalAmount"</span>: 1,
  <span class="s2">"orders"</span>: <span class="o">[{</span>
    <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
    <span class="s2">"block"</span>: 12970670,
    <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"confirmations"</span>: 21,
    <span class="s2">"fee"</span>: <span class="s2">"0.005000000000000000"</span>,
    <span class="s2">"from"</span>: <span class="s2">"0xdedc1eca923cc1227c20571030146d8a01b70774"</span>,
    <span class="s2">"id"</span>: <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>,
    <span class="s2">"memo"</span>: <span class="s2">""</span>,
    <span class="s2">"n"</span>: 0,
    <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
    <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
    <span class="s2">"txid"</span>: <span class="s2">"0xcfc4cb925c77c2ea10be3c233029fc1f05d0ddffe7396920ddd493544e52933d"</span>,
    <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
    <span class="s2">"value"</span>: <span class="s2">"0.045000000000000000"</span>
  <span class="o">}]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getOrders</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetOrders</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getOrders</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取钱包订单</p>
<h4 id='http-10'>HTTP请求</h4>
<p><code>GET /api/v1/app/orders</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>page, e.g. 1</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>amount</td>
<td>query</td>
<td>item count on this page, e.g. 10</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coins</td>
<td>query</td>
<td>coin list, can be empty string</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>state</td>
<td>query</td>
<td>order state, can be empty string</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>bizType</td>
<td>query</td>
<td>order type, TRANSFER_IN/TRANSFER_OUT/WITHDRAW/DEPOSIT</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>array</td>
<td>order list</td>
</tr>
<tr>
<td>totalAmount</td>
<td>number</td>
<td>the total count of orders</td>
</tr>
</tbody></table>

<p>order:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>订单类型</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>区块高度</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>币种名称</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>交易确认数</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>交易费用</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>交易输入</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>订单ID</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>memo</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>订单索引</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>订单状态</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>交易输出</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>交易哈希</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>币种类型</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>交易值</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>订单备注</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>转账消息</td>
</tr>
<tr>
<td>relatedOrderId</td>
<td>string</td>
<td>关联订单ID</td>
</tr>
</tbody></table>
<h3 id='402f86af78'>获取钱包单笔订单</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetOrder"</span> <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
  <span class="s2">"block"</span>: 12970670,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 21,
  <span class="s2">"fee"</span>: <span class="s2">"0.005000000000000000"</span>,
  <span class="s2">"from"</span>: <span class="s2">"0xdedc1eca923cc1227c20571030146d8a01b70774"</span>,
  <span class="s2">"id"</span>: <span class="s2">"rNXBQGJlw09apVyg4nDo"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
  <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
  <span class="s2">"txid"</span>: <span class="s2">"0xcfc4cb925c77c2ea10be3c233029fc1f05d0ddffe7396920ddd493544e52933d"</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.045000000000000000"</span>,
  <span class="s2">"note"</span>: <span class="s2">"note"</span>,
  <span class="s2">"message"</span>: <span class="s2">""</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getOrder</span><span class="p">(</span><span class="dl">"</span><span class="s2">rNXBQGJlw09apVyg4nDo</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetOrder</span><span class="p">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getOrder</span><span class="o">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取钱包单笔订单</p>
<h4 id='http-11'>HTTP请求</h4>
<p><code>GET /api/v1/app/order/{id}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>订单类型</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>区块高度</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>币种名称</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>交易确认数</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>交易费用</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>交易输入</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>订单ID</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>memo</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>订单索引</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>订单状态</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>交易输出</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>交易哈希</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>币种类型</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>交易值</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>订单备注</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>转账消息</td>
</tr>
<tr>
<td>relatedOrderId</td>
<td>string</td>
<td>关联订单ID</td>
</tr>
</tbody></table>
<h3 id='07bb09a568'>更新钱包订单</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"UpdateOrder"</span> <span class="s2">"rNXBQGJlw09apVyg4nDo"</span> <span class="s2">"123"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">UpdateOrder</span><span class="p">(</span><span class="s">"rNXBQGJlw09apVyg4nDo"</span><span class="p">,</span> <span class="s">"123"</span><span class="p">)</span>
</code></pre></div>
<p><strong>总结:</strong> 更新钱包订单</p>
<h4 id='http-12'>HTTP请求</h4>
<p><code>PUT /api/v1/app/order/{id}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>path</td>
<td>order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>note</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='a471daf080'>提现</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"Withdraw"</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span><span class="s2">"</span> <span class="s2">"ETH"</span> <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span> <span class="s2">"0.05"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"WITHDRAW"</span>,
  <span class="s2">"block"</span>: <span class="nt">-1</span>,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"fee"</span>: <span class="s2">"0.0050000000"</span>,
  <span class="s2">"from"</span>: <span class="s2">""</span>,
  <span class="s2">"id"</span>: <span class="s2">"Jd7qbDRa1qM1lxK5Qe2M"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"state"</span>: <span class="s2">"INIT"</span>,
  <span class="s2">"to"</span>: <span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span>,
  <span class="s2">"txid"</span>: <span class="s2">""</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.0450000000"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ETH</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">to</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0x56204b988844b20160035273fD98Dbb2A54C85F5</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0.01</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">memo</span> <span class="o">=</span> <span class="dl">''</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">withdraw</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">to</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">memo</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Withdraw</span><span class="p">(</span><span class="s">"1569225735"</span><span class="p">,</span> <span class="s">"ETH"</span><span class="p">,</span> <span class="s">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="p">,</span> <span class="s">"0.05"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">withdraw</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="s">"ETH"</span><span class="o">,</span> <span class="s">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="o">,</span> <span class="s">"0.05"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 提现</p>
<h4 id='http-13'>HTTP请求</h4>
<p><code>POST /api/v1/app/{coinName}/withdraw</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>withdraw id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>to</td>
<td>body</td>
<td>receive address</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>withdraw amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>memo</td>
<td>body</td>
<td>address memo</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>note</td>
<td>No</td>
<td>string</td>
</tr>
<tr>
<td>priority</td>
<td>body</td>
<td>priority</td>
<td>No</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>address memo</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>order index</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>order note</td>
</tr>
</tbody></table>
<h3 id='1045de04a1'>划转</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> Transfer <span class="s2">"e5dJyVp8R3B1m4o"</span> <span class="s2">"ETH"</span> <span class="s2">"0.01"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"bizType"</span>: <span class="s2">"TRANSFER_OUT"</span>,
  <span class="s2">"coinName"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"confirmations"</span>: 0,
  <span class="s2">"fee"</span>: <span class="s2">"0"</span>,
  <span class="s2">"from"</span>: <span class="s2">"L6RayqPn4jXExW0"</span>,
  <span class="s2">"id"</span>: <span class="s2">"orders4eq8kz1235jz2yj0n9rvpwl7"</span>,
  <span class="s2">"memo"</span>: <span class="s2">""</span>,
  <span class="s2">"message"</span>: <span class="s2">""</span>,
  <span class="s2">"n"</span>: 0,
  <span class="s2">"note"</span>: <span class="s2">""</span>,
  <span class="s2">"state"</span>: <span class="s2">"DONE"</span>,
  <span class="s2">"to"</span>: <span class="s2">"e5dJyVp8R3B1m4o"</span>,
  <span class="s2">"txid"</span>: <span class="s2">""</span>,
  <span class="s2">"type"</span>: <span class="s2">"ETH"</span>,
  <span class="s2">"value"</span>: <span class="s2">"0.01"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Transfer</span><span class="p">(</span><span class="s">"e5dJyVp8R3B1m4o"</span><span class="p">,</span> <span class="s">"ETH"</span><span class="p">,</span> <span class="s">"0.01"</span><span class="p">)</span>
</code></pre></div>
<p><strong>总结:</strong> 划转</p>
<h4 id='http-14'>HTTP请求</h4>
<p><code>POST /api/v1/app/{coinName}/transfer</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>to</td>
<td>body</td>
<td>receive wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>transfer amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>note</td>
<td>body</td>
<td>transfer note, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>message</td>
<td>body</td>
<td>transfer message, can be empty string</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>bizType</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>the block transaction mined in</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>unique token name</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>number of transaction confirmations</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>fee burnt for the transaction</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>transaction input</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>order note</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>order index</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>order state</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>transaction output</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>transaction hash</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>token type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>transaction value</td>
</tr>
<tr>
<td>note</td>
<td>string</td>
<td>transfer note</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>transfer message</td>
</tr>
</tbody></table>
<h2 id='a8a40acd93'>质押</h2><h3 id='validators'>获取质押validators</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetValidators"</span> <span class="s2">"IRIS"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"validators"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"address"</span>: <span class="s2">"fva125aw6ew57jugyultpcqrlk7sewamxtjer48cy0"</span>,
      <span class="s2">"commission"</span>: <span class="o">{</span>
        <span class="s2">"maxChangeRate"</span>: 1,
        <span class="s2">"maxRate"</span>: 1,
        <span class="s2">"rate"</span>: 0.1,
        <span class="s2">"updateAt"</span>: <span class="s2">"0001-01-01T00:00:00.000Z"</span>
      <span class="o">}</span>,
      <span class="s2">"delegationAmount"</span>: <span class="s2">"2770068.5544012594476618430000000000"</span>,
      <span class="s2">"jailed"</span>: <span class="nb">false</span>,
      <span class="s2">"minSelfDelegation"</span>: <span class="s2">"0"</span>,
      <span class="s2">"name"</span>: <span class="s2">"validator0"</span>,
      <span class="s2">"pubkey"</span>: <span class="s2">"fcp1zcjduepqt9c5p8e25s5zxxsg5758cx4aqylarkxrc35qg0d0pge84p3rtaasmz58sl"</span>,
      <span class="s2">"shares"</span>: <span class="s2">"2770068.5544012594476618430000000000"</span>,
      <span class="s2">"status"</span>: 2
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"address"</span>: <span class="s2">"fva1at9ye95xmsp9wzpc6asmju5w55nece5c4fv28m"</span>,
      <span class="s2">"commission"</span>: <span class="o">{</span>
        <span class="s2">"maxChangeRate"</span>: 1,
        <span class="s2">"maxRate"</span>: 1,
        <span class="s2">"rate"</span>: 0.1,
        <span class="s2">"updateAt"</span>: <span class="s2">"0001-01-01T00:00:00.000Z"</span>
      <span class="o">}</span>,
      <span class="s2">"delegationAmount"</span>: <span class="s2">"370.1929307965746291140000000000"</span>,
      <span class="s2">"jailed"</span>: <span class="nb">true</span>,
      <span class="s2">"minSelfDelegation"</span>: <span class="s2">"0"</span>,
      <span class="s2">"name"</span>: <span class="s2">"validator1"</span>,
      <span class="s2">"pubkey"</span>: <span class="s2">"fcp1zcjduepqj0gp48fu32h2ttsn4anz368cyjyklq0ut7c0slk0ncxqv9l3mqmsehkpr6"</span>,
      <span class="s2">"shares"</span>: <span class="s2">"370.1929307965746291140000000000"</span>,
      <span class="s2">"status"</span>: 0
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getValidators</span><span class="p">(</span><span class="dl">"</span><span class="s2">IRIS</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetValidators</span><span class="p">(</span><span class="s">"IRIS"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getValidators</span><span class="o">(</span><span class="s">"IRIS"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取质押validators</p>
<h4 id='http-15'>HTTP请求</h4>
<p><code>GET /api/v1/staking/{coinName}/validators</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>validators</td>
<td>array</td>
<td>the validator list</td>
</tr>
</tbody></table>
<h3 id='b6ce0c4dd3'>抵押</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"Delegate"</span> <span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"J9rPWXA13Kl9bam4Vo6G"</span>,
  <span class="s2">"type"</span>: <span class="s2">"DELEGATE"</span>,
  <span class="s2">"value"</span>: <span class="s2">"1"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ATOM</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0.06</span><span class="dl">'</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">delegate</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">Delegate</span><span class="p">(</span><span class="s">"1569231558"</span><span class="p">,</span> <span class="s">"IRIS2"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">delegate</span><span class="o">(</span><span class="s">"1569231558"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 抵押</p>
<h4 id='http-16'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/delegate</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>delegate custom order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>delegate amount</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>delegate amount</td>
</tr>
</tbody></table>
<h3 id='7f551949fb'>解抵押</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"UnDelegate"</span> <span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"P6wAQNrWp5XanXk5L7VR"</span>,
  <span class="s2">"type"</span>: <span class="s2">"UNDELEGATE"</span>,
  <span class="s2">"value"</span>: <span class="s2">"1"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ATOM</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0.01</span><span class="dl">'</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">undelegate</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">UnDelegate</span><span class="p">(</span><span class="s">"1569231809"</span><span class="p">,</span> <span class="s">"IRIS2"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">unDelegate</span><span class="o">(</span><span class="s">"1569231809"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 解抵押</p>
<h4 id='http-17'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/undelegate</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>delegate custom order id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>delegate amount</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>order id</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>order type</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>delegate amount</td>
</tr>
</tbody></table>
<h3 id='482d047760'>添加资金需求</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"AddUrgentStakingFunding"</span> <span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span> <span class="s2">"IRIS2"</span> <span class="s2">"1"</span> <span class="s2">"1569302076"</span>
code: 0
message: success
data:
<span class="o">{}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">''</span><span class="o">+</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span>
        <span class="kd">let</span> <span class="nx">coinType</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ATOM</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">value</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">0.06</span><span class="dl">'</span>
        <span class="kd">let</span> <span class="nx">expiredAt</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">valueOf</span><span class="p">()</span><span class="o">/</span><span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="mi">86400</span> <span class="o">*</span> <span class="mi">21</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">addUrgentStakingFunding</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">coinType</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">expiredAt</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">AddUrgentStakingFunding</span><span class="p">(</span><span class="s">"1569292076"</span><span class="p">,</span> <span class="s">"IRIS2"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">,</span> <span class="m">1569302076</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">addUrgentStakingFunding</span><span class="o">(</span><span class="s">"1569292076"</span><span class="o">,</span> <span class="s">"IRIS2"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">,</span> <span class="mi">1569302076</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 添加资金需求</p>
<h4 id='http-18'>HTTP请求</h4>
<p><code>POST /api/v1/staking/{coinName}/funding</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>id</td>
<td>body</td>
<td>funding id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>value</td>
<td>body</td>
<td>funding amount</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>expiredAt</td>
<td>body</td>
<td>expired time</td>
<td>Yes</td>
<td>number</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='177f4488ad'>获取质押利息</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetStakingInterest"</span> <span class="s2">"IRIS"</span> <span class="s2">"2019-09-26"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"coinName"</span>: <span class="s2">"IRIS"</span>,
  <span class="s2">"interest"</span>: <span class="s2">"0.12345"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code>    <span class="k">try</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="nx">getStakingInterest</span><span class="p">(</span><span class="dl">"</span><span class="s2">IRIS</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">2019-09-26</span><span class="dl">"</span><span class="p">)</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">catch</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do something</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">GetStakingInterest</span><span class="p">(</span><span class="s">"IRIS"</span><span class="p">,</span> <span class="s">"2019-09-26"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getStakingInterest</span><span class="o">(</span><span class="s">"IRIS"</span><span class="o">,</span> <span class="s">"2019-09-26"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取质押利息</p>
<h4 id='http-19'>HTTP请求</h4>
<p><code>GET /api/v1/staking/{coinName}/interest</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>date</td>
<td>query</td>
<td>UTC date</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>coinName</td>
<td>string</td>
<td>the coin name</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the interest value</td>
</tr>
</tbody></table>
<h2 id='8f74cd015b'>白名单</h2><h3 id='7b7bd4a90d'>添加白名单</h3><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">AddWhiteAddress</span><span class="p">(</span><span class="s">"ETH"</span><span class="p">,</span> <span class="s">"address"</span><span class="p">)</span>
</code></pre></div>
<p><strong>添加充提白名单</strong></p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>POST /api/v1/address/whitelist/add</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>body</td>
<td>coin type</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>address</td>
<td>body</td>
<td>receive wallet address</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td>int</td>
<td>状态 <br /> 0: 成功 <br />10006：内部服务错误<br /> 10005: 参数异常 <br />20003: 重复请求</td>
</tr>
<tr>
<td>message</td>
<td>string</td>
<td>成功或异常情况描述信息</td>
</tr>
</tbody></table>
<h2 id='930f2e66d9'>市场</h2><h3 id='6f0286c020'>当前价格</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"GetMarket"</span> <span class="s2">"BTC"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"price"</span>: <span class="s2">"10000"</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">appTest</span><span class="o">.</span><span class="na">getMarket</span><span class="o">(</span><span class="s">"ETH"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取以USD计价的资产价格</p>
<h4 id='http-20'>HTTP请求</h4>
<p><code>GET /api/v1/market/{coinName}</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>coinName</td>
<td>path</td>
<td>asset name</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>string</td>
<td>current price</td>
</tr>
</tbody></table>
<h2 id='1a1f6dff78'>系统</h2><h3 id='7c4d16ae6c'>当前时间戳</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"appkey"</span> <span class="s2">"appsecret"</span> <span class="s2">"SystemGetTime"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"timestamp"</span>: 1590391287
<span class="o">}</span>
</code></pre></div>
<p><strong>总结:</strong> 获取系统当前时间戳</p>
<h4 id='http-21'>HTTP请求</h4>
<p><code>GET /api/v1/system/time</code></p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-App-Key</td>
<td>header</td>
<td>app key</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>number</td>
<td>current timestamp</td>
</tr>
</tbody></table>
<h1 id='api-3'>企业 API</h1><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>git clone https://github.com/nbltrust/hashkey-custody-sdk-golang.git <span class="o">&amp;&amp;</span> <span class="nb">cd </span>hashkey-custody-sdk-golang
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">companyKey</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">TyTLvCnHINbWZQag88hhmMz1</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">companySecret</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6</span><span class="dl">'</span>
<span class="kd">const</span> <span class="nx">apiAddr</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">http://127.0.0.1:8092</span><span class="dl">'</span>

<span class="kd">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">API</span><span class="p">(</span><span class="nx">companyKey</span><span class="p">,</span> <span class="nx">companySecret</span><span class="p">,</span> <span class="nx">apiAddr</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code><span class="n">company</span> <span class="o">:=</span> <span class="n">sdk</span><span class="o">.</span><span class="n">NewCompanyWithAddr</span><span class="p">(</span><span class="n">apiAddr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">secret</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code><span class="nc">String</span> <span class="n">endpoint</span> <span class="o">=</span> <span class="s">"http://127.0.0.1:8092"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">appKey</span> <span class="o">=</span> <span class="s">"TyTLvCnHINbWZQag88hhmMz1"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">appSecret</span> <span class="o">=</span> <span class="s">"uf0rPlTluGnIllGqx0X1os4hQ6rOdXDxStiN4qGd79lS6yeHZaOK4ldvRv1TBqr6"</span><span class="o">;</span>
<span class="nc">APIContext</span> <span class="n">companyContext</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">APIContext</span><span class="o">(</span><span class="n">endpoint</span><span class="o">,</span> <span class="n">appKey</span><span class="o">,</span> <span class="n">appSecret</span><span class="o">);</span>
<span class="nc">Company</span> <span class="n">companyTest</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Company</span><span class="o">(</span><span class="n">companyContext</span><span class="o">);</span>
</code></pre></div>
<p>企业 key 和 secret 可在企业设置中生成。</p>

<p>出于安全考虑，强烈建议您为企业 API Key 绑定  IP 地址或 IP 段。</p>

<p><strong>风险提示：</strong>API Key/Secret 与账号安全紧密相关，无论何时都请勿向其它人透露。若发现API Key/Secret 泄露请尽快删除该API Key。</p>
<h2 id='c02d697612-2'>钱包</h2><h3 id='fcbd093292'>创建</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"CreateWallet"</span> <span class="s2">"name"</span> <span class="s2">"password"</span> <span class="s2">"https://noti.domain/callback"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"id"</span>: <span class="s2">"ylr07eg5p862mkpw"</span>,
  <span class="s2">"appKey"</span>: <span class="s2">"52u036rjmnd5qtwc74vohpj3"</span>,
  <span class="s2">"appSecret"</span>: <span class="s2">"4d6718b405cb55e5544ba0b343472acba8a5a1eb0c5777e4040b38f9edd96a60"</span>,
  <span class="s2">"encryptedAppSecret"</span>: <span class="s2">"7p128MoVWgSFI7AYAUXO9Px72qCNYSvtM5PCAGD3f6de+HjYJbJBEJcTswMH1qdLcKIriuy1RoP6P0YmNeEDlAfSSyJiHrX98Oid5/fuCEs="</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">CreateWallet</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"password"</span><span class="p">,</span> <span class="s">"https://noti.domain/callback"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">createWallet</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"password"</span><span class="o">,</span> <span class="s">"https://noti.domain/callback"</span><span class="o">,</span> <span class="s">"description"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 创建钱包</p>
<h4 id='http-22'>HTTP请求</h4>
<p><code>POST /api/v1/app</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>name</td>
<td>body</td>
<td>the wallet name</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>password</td>
<td>body</td>
<td>the wallet password, should encrypted by <a href="#aes-encryption">AES encryption</a> and base64 encoded</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>description</td>
<td>body</td>
<td>the wallet description</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>webHook</td>
<td>body</td>
<td>the url will be called when send <a href="#callback">a notification</a></td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>aesIV</td>
<td>body</td>
<td>base64 encoded <a href="#aes-encryption">AES encryption</a> iv, must be 16 bytes, used by encrypting app password and secret</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>
<h4 id='6c80af4d52'>密码规则：</h4><div class="highlight"><pre class="highlight go tab-go"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
    <span class="s">"crypto/rand"</span>
    <span class="s">"fmt"</span>
    <span class="s">"math/big"</span>
<span class="p">)</span>

<span class="k">const</span> <span class="p">(</span>
    <span class="n">upper</span>   <span class="o">=</span> <span class="s">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span>
    <span class="n">lower</span>   <span class="o">=</span> <span class="s">"abcdefghijklmnopqrstuvwxyz"</span>
    <span class="n">digits</span>  <span class="o">=</span> <span class="s">"0123456789"</span>
    <span class="n">special</span> <span class="o">=</span> <span class="s">"~!@#$&amp;*()"</span>
    <span class="n">all</span>     <span class="o">=</span> <span class="n">upper</span> <span class="o">+</span> <span class="n">lower</span> <span class="o">+</span> <span class="n">digits</span> <span class="o">+</span> <span class="n">special</span>
<span class="p">)</span>

<span class="c">// GeneratePassword 生成随机密码</span>
<span class="k">func</span> <span class="n">GeneratePassword</span><span class="p">(</span><span class="n">length</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="n">length</span> <span class="o">&lt;</span> <span class="m">8</span> <span class="o">||</span> <span class="n">length</span> <span class="o">&gt;</span> <span class="m">30</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">""</span><span class="p">,</span> <span class="n">fmt</span><span class="o">.</span><span class="n">Errorf</span><span class="p">(</span><span class="s">"长度不满足要求"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">{</span>
        <span class="c">// 1. 确保每种类型至少有一个字符</span>
        <span class="n">pwd</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">byte</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
        <span class="n">pwd</span><span class="p">[</span><span class="m">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">upper</span><span class="p">[</span><span class="n">randInt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">upper</span><span class="p">))]</span>
        <span class="n">pwd</span><span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">lower</span><span class="p">[</span><span class="n">randInt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lower</span><span class="p">))]</span>
        <span class="n">pwd</span><span class="p">[</span><span class="m">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">digits</span><span class="p">[</span><span class="n">randInt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">digits</span><span class="p">))]</span>
        <span class="n">pwd</span><span class="p">[</span><span class="m">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">special</span><span class="p">[</span><span class="n">randInt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">special</span><span class="p">))]</span>

        <span class="c">// 2. 填充剩余长度</span>
        <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="m">4</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">length</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span> <span class="p">{</span>
            <span class="n">pwd</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">all</span><span class="p">[</span><span class="n">randInt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all</span><span class="p">))]</span>
        <span class="p">}</span>

        <span class="c">// 3. 打乱顺序</span>
        <span class="n">shuffle</span><span class="p">(</span><span class="n">pwd</span><span class="p">)</span>

        <span class="c">// 4. 检查是否含有连续字符</span>
        <span class="k">if</span> <span class="o">!</span><span class="n">hasSequential</span><span class="p">(</span><span class="n">pwd</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kt">string</span><span class="p">(</span><span class="n">pwd</span><span class="p">),</span> <span class="no">nil</span>
        <span class="p">}</span>
        <span class="c">// 如果包含连续字符，则重新循环生成</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c">// randInt 生成安全的随机整数 [0, max)</span>
<span class="k">func</span> <span class="n">randInt</span><span class="p">(</span><span class="n">max</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
    <span class="n">val</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">rand</span><span class="o">.</span><span class="n">Int</span><span class="p">(</span><span class="n">rand</span><span class="o">.</span><span class="n">Reader</span><span class="p">,</span> <span class="n">big</span><span class="o">.</span><span class="n">NewInt</span><span class="p">(</span><span class="kt">int64</span><span class="p">(</span><span class="n">max</span><span class="p">)))</span>
    <span class="k">return</span> <span class="kt">int</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="n">Int64</span><span class="p">())</span>
<span class="p">}</span>

<span class="c">// shuffle 随机打乱字节切片</span>
<span class="k">func</span> <span class="n">shuffle</span><span class="p">(</span><span class="n">slice</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="n">slice</span><span class="p">)</span> <span class="o">-</span> <span class="m">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span><span class="o">--</span> <span class="p">{</span>
        <span class="n">j</span> <span class="o">:=</span> <span class="n">randInt</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="m">1</span><span class="p">)</span>
        <span class="n">slice</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">slice</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">slice</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">slice</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c">// hasSequential 检查是否存在逻辑连续字符 (如 '123', 'abc', 'ABC')</span>
<span class="k">func</span> <span class="n">hasSequential</span><span class="p">(</span><span class="n">s</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">r</span> <span class="o">:=</span> <span class="k">range</span> <span class="n">s</span> <span class="p">{</span>
        <span class="k">if</span> <span class="o">!</span><span class="n">isAlphaNum</span><span class="p">(</span><span class="n">r</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">continue</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="m">2</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="m">1</span><span class="p">]</span> <span class="o">==</span> <span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="m">1</span> <span class="o">&amp;&amp;</span> <span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="o">+</span><span class="n">i</span><span class="o">+</span><span class="m">2</span><span class="p">]</span> <span class="o">==</span> <span class="o">+</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">+</span><span class="m">2</span> <span class="p">{</span>
            <span class="k">return</span> <span class="no">true</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="no">false</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">isAlphaNum</span><span class="p">(</span><span class="n">b</span> <span class="kt">byte</span><span class="p">)</span> <span class="kt">bool</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="sc">'a'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="sc">'z'</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="sc">'A'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="sc">'Z'</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="sc">'0'</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&lt;=</span> <span class="sc">'9'</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c">// 示例：生成 16 位密码</span>
    <span class="n">password</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">GeneratePassword</span><span class="p">(</span><span class="m">16</span><span class="p">)</span>
    <span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"生成的密码:"</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="p">}</span>

</code></pre></div>
<ol>
<li>密码必须至少包含以下4种字符类型中的3种：大写字母 (A-Z)，小写字母 (a-z)，数字 (0-9)，特殊字符 (~!@#$&amp;*())</li>
<li>密码字符非连续性，比如像123，abc这样会不符合规则</li>
<li>密码长度在8到30位之间</li>
</ol>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>wallet id</td>
</tr>
<tr>
<td>appKey</td>
<td>string</td>
<td>the appkey placed in the header of <a href="#wallet-api">Wallet API</a></td>
</tr>
<tr>
<td>encryptedAppSecret</td>
<td>string</td>
<td>the base64 encoded <a href="#aes-encryption">AES encrypted</a> appsecret, the appsecret used for the <a href="#signature">signature</a> of <a href="#wallet-api">Wallet API</a></td>
</tr>
</tbody></table>

<p><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br></p>
<h3 id='appkeys'>获取appkeys</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetWalletKeys"</span> <span class="s2">"appID"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"keys"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"appKey"</span>: <span class="s2">"nq73yzkovqo44fsek2nq37nw"</span>,
      <span class="s2">"appSecret"</span>: <span class="s2">"nn2oh58iuc1sg2adya1golz35cowjbz7r0hfjt2ey6b4fc4xyq6kdopp9tlp0ko3"</span>,
      <span class="s2">"enable"</span>: <span class="nb">true</span>,
      <span class="s2">"encryptedAppSecret"</span>: <span class="s2">"+XowuN5bDYKKoDXvci19uoOiYAR+esV762cnBFCd2oX5pfRvOsCsRCyS0eopj9TdziDCm2N8YIBk+/Gj0JGwwKjtXA829ivYdiiVHEe6jvE="</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">GetWalletKeys</span><span class="p">(</span><span class="s">"appID"</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">getWalletKeys</span><span class="o">(</span><span class="s">"appID"</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 获取 appkeys(包括 appsecret)</p>
<h4 id='http-23'>HTTP请求</h4>
<p><code>GET /api/v1/app/{appID}/keys</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>appID</td>
<td>path</td>
<td>wallet id</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>aesIV</td>
<td>query</td>
<td>base64 encoded <a href="#aes-encryption">AES encryption</a> iv, must be 16 bytes, used by encrypting app secret in the response</td>
<td>Yes</td>
<td>string</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>keys</td>
<td>array</td>
<td>the appkey list</td>
</tr>
</tbody></table>

<p>key:</p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>appKey</td>
<td>string</td>
<td>the appkey placed in the header of <a href="#wallet-api">Wallet API</a></td>
</tr>
<tr>
<td>enable</td>
<td>boolean</td>
<td>enable flag, the appkey will been forbidden if set false</td>
</tr>
<tr>
<td>encryptedAppSecret</td>
<td>string</td>
<td>the base64 encoded <a href="#aes-encryption">AES encrypted</a> appsecret, the appsecret used for the <a href="#signature">signature</a> of <a href="#wallet-api">Wallet API</a></td>
</tr>
</tbody></table>
<h3 id='appkey'>更新 appkey</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> UpdateWalletKey <span class="s2">"appKey"</span> <span class="nb">true
</span>code: 0
message: success
data:
<span class="o">{}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">UpdateWalletKey</span><span class="p">(</span><span class="s">"appKey"</span><span class="p">,</span> <span class="no">true</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight java tab-java"><code>  <span class="nc">APIResult</span> <span class="n">result</span> <span class="o">=</span> <span class="n">companyTest</span><span class="o">.</span><span class="na">updateWalletKey</span><span class="o">(</span><span class="s">"appKey"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</code></pre></div>
<p><strong>总结:</strong> 更新appkey属性</p>
<h4 id='http-24'>HTTP请求</h4>
<p><code>PUT /api/v1/appKey/{appKey}</code> </p>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>appKey</td>
<td>path</td>
<td>wallet appkey</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>enable</td>
<td>body</td>
<td>enable flag, the appkey will been forbidden if set false</td>
<td>Yes</td>
<td>boolean</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
</tbody></table>
<h2 id='4613903460'>财务</h2><h3 id='36e0803c31'>收入与支出</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetFinanceOrders"</span> <span class="s2">"1"</span> <span class="s2">"10"</span> <span class="s2">"https://stg-xpert.hashkeydev.com/saas-api"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"orders"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"amount"</span>: <span class="s2">"0.100000000000000000"</span>,
      <span class="s2">"balance"</span>: <span class="s2">"2.000000000000000000"</span>,
      <span class="s2">"bizOrderID"</span>: <span class="s2">"ordersxv3z41mwyglorr0gnl2keop5"</span>,
      <span class="s2">"bizType"</span>: <span class="s2">"DEPOSIT"</span>,
      <span class="s2">"coinName"</span>: <span class="s2">"USDT"</span>,
      <span class="s2">"createdAt"</span>: 1737014596,
      <span class="s2">"exchangeID"</span>: <span class="s2">""</span>,
      <span class="s2">"exchangeName"</span>: <span class="s2">""</span>,
      <span class="s2">"from"</span>: <span class="s2">"0x53f1F06D87683c7443B316DFD994ff1562313888"</span>,
      <span class="s2">"fromType"</span>: <span class="s2">"ADDRESS"</span>,
      <span class="s2">"id"</span>: <span class="s2">"finorderkewm30o8568p8l9j79qp12zn"</span>,
      <span class="s2">"note"</span>: <span class="s2">""</span>,
      <span class="s2">"operator"</span>: <span class="s2">""</span>,
      <span class="s2">"opsType"</span>: <span class="s2">"ADMIN"</span>,
      <span class="s2">"subType"</span>: <span class="s2">"DEPOSIT"</span>,
      <span class="s2">"to"</span>: <span class="s2">"0xf128c288b92009CED44D654cDfc111Dc5248cBEE"</span>,
      <span class="s2">"toType"</span>: <span class="s2">"ADDRESS"</span>,
      <span class="s2">"fee"</span>: <span class="s2">"0.000000000000000000"</span>,
      <span class="s2">"txid"</span>: <span class="s2">"0x3610d05727fa0ff997653e54c69df8c3065b15dd9744130b9887151d58f29507"</span>,
      <span class="s2">"updatedAt"</span>: 1737014709,
      <span class="s2">"walletID"</span>: <span class="s2">"walletylr07eg5r4j2mkpw"</span>,
      <span class="s2">"walletName"</span>: <span class="s2">"wallet2"</span>
    <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: 1
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">GetFinanceOrders</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"page"</span><span class="o">:</span><span class="m">1</span><span class="p">,</span>
    <span class="s">"pageSize"</span><span class="o">:</span><span class="m">10</span>
    <span class="p">})</span>
</code></pre></div><h4 id='http-25'>HTTP请求</h4>
<p><code>GET /api/v1/finance/orders</code> </p>

<blockquote>
<p>下载Excel文件：<code>GET /api/v1/finance/orders/download</code></p>
</blockquote>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>wallets</td>
<td>query</td>
<td>钱包id列表,多个值使用逗号分割</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>bizTypes</td>
<td>query</td>
<td>类型:<br>充值-DEPOSIT<br>提币-WITHDRAW<br>批量提币-BATCH_WITHDRAW<br>批量划转-BATCH_TRANSFER<br>划转-WALLET_TRANSFER</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>subType</td>
<td>query</td>
<td>子类型：<br>入账-IN<br>出账-OUT</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>coins</td>
<td>query</td>
<td>token列表（多个使用逗号分隔）</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>start</td>
<td>query</td>
<td>开始时间戳（秒）</td>
<td>是</td>
<td>number</td>
</tr>
<tr>
<td>end</td>
<td>query</td>
<td>结束时间戳（秒</td>
<td>是</td>
<td>number</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>分页（起始值为1）</td>
<td>否</td>
<td>number</td>
</tr>
<tr>
<td>pageSize</td>
<td>query</td>
<td>分页数量</td>
<td>否</td>
<td>number</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"orders"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.106000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.430999300000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bizOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ordersmq41ndkz1232323232r"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bizType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coinName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1733971691</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchangeID"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"exchangeName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x510F4a8CC103E0F17915A7630F1524Bb9AF01aB6"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fromType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADDRESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"finorder40ymrp87zgywpw4jlqd95e2w"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"note"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34343"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"operator"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x4511@gmail.com"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"opsType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADMIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"subType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WITHDRAW"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x035221cF1bDcCd8100531B6B6132323232323"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"toType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ADDRESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x01921175f4986bf3bafd2a16a61b886cf12323232323232323"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1733971965</span><span class="p">,</span><span class="w">
        </span><span class="nl">"walletID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walletw5l729323232323"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"walletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC_WALLET"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>状态码 <strong>200</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必选</th>
<th>约束</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>» message</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>»» orders</td>
<td>[object]</td>
<td>true</td>
<td>none</td>
<td>订单列表</td>
</tr>
<tr>
<td>»»» amount</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>数量</td>
</tr>
<tr>
<td>»»» fee</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>手续费</td>
</tr>
<tr>
<td>»»» balance</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>余额</td>
</tr>
<tr>
<td>»»» bizOrderID</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>业务订单id</td>
</tr>
<tr>
<td>»»» bizType</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>类型：<br>DEPOSIT-充值<br>WITHDRAW-提币<br>BATCH_WITHDRAW-批量提币<br>BATCH_TRANSFER-批量划转<br>WALLET_TRANSFER-划转</td>
</tr>
<tr>
<td>»»» coinName</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>币种</td>
</tr>
<tr>
<td>»»» createdAt</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>创建时间</td>
</tr>
<tr>
<td>»»» exchangeID</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>交易所id</td>
</tr>
<tr>
<td>»»» exchangeName</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>交易所名称</td>
</tr>
<tr>
<td>»»» from</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>来源</td>
</tr>
<tr>
<td>»»» fromType</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>来源类型</td>
</tr>
<tr>
<td>»»» id</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>订单id</td>
</tr>
<tr>
<td>»»» note</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>备注</td>
</tr>
<tr>
<td>»»» operator</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>操作人</td>
</tr>
<tr>
<td>»»» opsType</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>操作类型：ADMIN-管理员操作，API-系统操作</td>
</tr>
<tr>
<td>»»» subType</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>子类型：<br>WITHDRAW-提币<br>DEPOSIT-充值<br>TRANSFER_OUT-划转出<br>TRANSFER_IN-划入</td>
</tr>
<tr>
<td>»»» to</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>目标地址或钱包名字</td>
</tr>
<tr>
<td>»»» toType</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>目标类型: ADDRESS-地址，WALLET-钱包</td>
</tr>
<tr>
<td>»»» txid</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>交易Hash</td>
</tr>
<tr>
<td>»»» updatedAt</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>更新时间戳（秒）</td>
</tr>
<tr>
<td>»»» walletID</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>钱包id</td>
</tr>
<tr>
<td>»»» walletName</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>钱包名称</td>
</tr>
<tr>
<td>»» total</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>总数量</td>
</tr>
</tbody></table>
<h3 id='986aedb65a'>财务报表</h3><div class="highlight"><pre class="highlight shell tab-shell"><code><span class="nv">$ </span>go run cmd/ctl/main.go <span class="s2">"companykey"</span> <span class="s2">"companysecret"</span> <span class="s2">"GetFinanceOrders"</span> <span class="s2">"1"</span> <span class="s2">"10"</span> <span class="s2">"https://stg-xpert.hashkeydev.com/saas-api"</span>
code: 0
message: success
data:
<span class="o">{</span>
  <span class="s2">"reports"</span>: <span class="o">[</span>
      <span class="o">{</span>
          <span class="s2">"coin"</span>: <span class="s2">"USDT-ERC20"</span>,
          <span class="s2">"deposit"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"depositCount"</span>: 0,
          <span class="s2">"endingBalance"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"loanPurchase"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"loanPurchaseCount"</span>: 0,
          <span class="s2">"loanSettle"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"loanSettleCount"</span>: 0,
          <span class="s2">"openingBalance"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"price"</span>: 1.0002579083,
          <span class="s2">"priceDeposit"</span>: 0,
          <span class="s2">"priceEndingBalance"</span>: 0,
          <span class="s2">"priceLoanPurchase"</span>: 0,
          <span class="s2">"priceLoanSettle"</span>: 0,
          <span class="s2">"priceOpeningBalance"</span>: 0,
          <span class="s2">"priceTransferIn"</span>: 0,
          <span class="s2">"priceWithdraw"</span>: 0,
          <span class="s2">"time"</span>: <span class="s2">"2024/10/18"</span>,
          <span class="s2">"transferIn"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"wallet"</span>: <span class="o">{</span>
              <span class="s2">"id"</span>: <span class="s2">"walletw5l729jn4mgy0843"</span>,
              <span class="s2">"name"</span>: <span class="s2">"HBLHSK"</span>
          <span class="o">}</span>,
          <span class="s2">"withdraw"</span>: <span class="s2">"0.000000000000000000"</span>,
          <span class="s2">"withdrawCount"</span>: 0
      <span class="o">}</span>
  <span class="o">]</span>,
  <span class="s2">"total"</span>: 1
<span class="o">}</span>
</code></pre></div><div class="highlight"><pre class="highlight go tab-go"><code>    <span class="n">result</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">company</span><span class="o">.</span><span class="n">GetFinanceReport</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span>
        <span class="s">"page"</span><span class="o">:</span><span class="m">1</span><span class="p">,</span>
    <span class="s">"pageSize"</span><span class="o">:</span><span class="m">10</span>
    <span class="p">})</span>
</code></pre></div><h4 id='http-26'>HTTP请求</h4>
<p><code>GET /api/v1/finance/reports</code> </p>

<blockquote>
<p>下载Excel文件：<code>GET /api/v1/finance/reports/download</code></p>
</blockquote>

<p><strong>参数</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>位置</th>
<th>描述</th>
<th>是否必需</th>
<th>类型</th>
</tr>
</thead><tbody>
<tr>
<td>X-Company-Key</td>
<td>header</td>
<td>company key</td>
<td>Yes</td>
<td>string</td>
</tr>
<tr>
<td>wallets</td>
<td>query</td>
<td>钱包id列表,多个值使用逗号分割</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>type</td>
<td>query</td>
<td>DAILY-日报<br>MONTHLY-月报<br>ANNUAL-年报</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>coins</td>
<td>query</td>
<td>token列表（多个使用逗号分隔）</td>
<td>否</td>
<td>string</td>
</tr>
<tr>
<td>startDate</td>
<td>query</td>
<td>开始时间(yyyy-MM-dd)</td>
<td>是</td>
<td>string</td>
</tr>
<tr>
<td>endDate</td>
<td>query</td>
<td>结束时间(yyyy-MM-dd)</td>
<td>是</td>
<td>string</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>分页（起始值为1）</td>
<td>否</td>
<td>number</td>
</tr>
<tr>
<td>pageSize</td>
<td>query</td>
<td>分页数量</td>
<td>否</td>
<td>number</td>
</tr>
</tbody></table>

<p><strong>响应结果</strong></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"reports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"coin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"deposit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"167.000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"depositCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="nl">"endingBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.430999300000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"loanPurchase"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"loanPurchaseCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"loanSettle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"loanSettleCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"openingBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceDeposit"</span><span class="p">:</span><span class="w"> </span><span class="mf">297166.4704650682</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceEndingBalance"</span><span class="p">:</span><span class="w"> </span><span class="mf">18561.336798829732</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceLoanPurchase"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceLoanSettle"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceOpeningBalance"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceTransferIn"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"priceWithdraw"</span><span class="p">:</span><span class="w"> </span><span class="mf">278605.1336662383</span><span class="p">,</span><span class="w">
                </span><span class="nl">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2024"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"transferIn"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"wallet"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"walletw5l729jn4mgy0843"</span><span class="p">,</span><span class="w">
                    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HBLHSK"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nl">"withdraw"</span><span class="p">:</span><span class="w"> </span><span class="s2">"156.569000700000000000"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"withdrawCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>状态码 <strong>200</strong></p>

<table><thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>必选</th>
<th>约束</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td>» code</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>» message</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>» data</td>
<td>object</td>
<td>true</td>
<td>none</td>
<td>none</td>
</tr>
<tr>
<td>»» reports</td>
<td>[object]</td>
<td>true</td>
<td>none</td>
<td>报表列表</td>
</tr>
<tr>
<td>»»» coin</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>币种</td>
</tr>
<tr>
<td>»»» deposit</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>充值数量</td>
</tr>
<tr>
<td>»»» depositCount</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>充值次数</td>
</tr>
<tr>
<td>»»» endingBalance</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>余额</td>
</tr>
<tr>
<td>»»» loanPurchase</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>贷款购买数量</td>
</tr>
<tr>
<td>»»» loanPurchaseCount</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>贷款购买次数</td>
</tr>
<tr>
<td>»»» loanSettle</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>贷款结算数量</td>
</tr>
<tr>
<td>»»» loanSettleCount</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>贷款结算次数</td>
</tr>
<tr>
<td>»»» openingBalance</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>期初余额</td>
</tr>
<tr>
<td>»»» priceDeposit</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>充值价格</td>
</tr>
<tr>
<td>»»» priceEndingBalance</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>余额价格</td>
</tr>
<tr>
<td>»»» priceLoanPurchase</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>贷款购买价格</td>
</tr>
<tr>
<td>»»» priceLoanSettle</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>贷款结算价格</td>
</tr>
<tr>
<td>»»» priceOpeningBalance</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>期初余额价格</td>
</tr>
<tr>
<td>»»» priceTransferIn</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>划入价格</td>
</tr>
<tr>
<td>»»» priceWithdraw</td>
<td>number</td>
<td>true</td>
<td>none</td>
<td>提币价格</td>
</tr>
<tr>
<td>»»» time</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>时间</td>
</tr>
<tr>
<td>»»» transferIn</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>划入数量</td>
</tr>
<tr>
<td>»»» wallet</td>
<td>object</td>
<td>true</td>
<td>none</td>
<td>钱包</td>
</tr>
<tr>
<td>»»»» id</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>钱包id</td>
</tr>
<tr>
<td>»»»» name</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>钱包名称</td>
</tr>
<tr>
<td>»»» withdraw</td>
<td>string</td>
<td>true</td>
<td>none</td>
<td>提币数量</td>
</tr>
<tr>
<td>»»» withdrawCount</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>提币次数</td>
</tr>
<tr>
<td>»» total</td>
<td>integer</td>
<td>true</td>
<td>none</td>
<td>总数量</td>
</tr>
</tbody></table>
<h1 id='c76b97433d'>回调</h1><h2 id='81b3798beb'>订单</h2>
<blockquote>
<p>订单通知发送的 JSON 结构如下:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2XB0eKAvj7KvjZDk59zl"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"withdrawID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7Cab38EA42538f4D8C2"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bizType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEPOSIT"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"coinName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DONE"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"memo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"fee"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x29152c850456899A78178622B6543BBFfC224495"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"n"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"block"</span><span class="p">:</span><span class="w"> </span><span class="mi">13721091</span><span class="p">,</span><span class="w">
  </span><span class="nl">"affirmativeConfirmation"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nl">"confirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"796dde931a15c98edc3dfdb65a2c2addfde422f217a1f6934be9226542839aa0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"relatedOrderID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orderrNXBQGJlw09apVyg4nDo"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>回调结果</strong></p>

<table><thead>
<tr>
<th>值</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>string</td>
<td>订单ID</td>
</tr>
<tr>
<td>withdrawID</td>
<td>string</td>
<td>提币ID</td>
</tr>
<tr>
<td>coinName</td>
<td>string</td>
<td>币种名称</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>交易哈希</td>
</tr>
<tr>
<td>state</td>
<td>string</td>
<td>订单状态</td>
</tr>
<tr>
<td>bizType</td>
<td>string</td>
<td>订单类型</td>
</tr>
<tr>
<td>type</td>
<td>string</td>
<td>币种类型</td>
</tr>
<tr>
<td>from</td>
<td>string</td>
<td>交易输入</td>
</tr>
<tr>
<td>to</td>
<td>string</td>
<td>交易输出</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>交易值</td>
</tr>
<tr>
<td>affirmativeConfirmation</td>
<td>number</td>
<td>区块链确认数</td>
</tr>
<tr>
<td>confirmations</td>
<td>number</td>
<td>交易确认数</td>
</tr>
<tr>
<td>fee</td>
<td>string</td>
<td>交易费用</td>
</tr>
<tr>
<td>block</td>
<td>number</td>
<td>区块高度</td>
</tr>
<tr>
<td>memo</td>
<td>string</td>
<td>订单备注</td>
</tr>
<tr>
<td>n</td>
<td>number</td>
<td>订单索引</td>
</tr>
<tr>
<td>sign</td>
<td>string</td>
<td>签名</td>
</tr>
<tr>
<td>relatedOrderID</td>
<td>string</td>
<td>关联订单ID</td>
</tr>
</tbody></table>
<h3 id='8ba46c43fe'>签名</h3>
<p>上面的 sign 参数可以通过下面的方法验证，以保证这个回调结果的发送方身份:</p>

<ol>
<li><p>形成一个字符串消息（排序），其中包含数据prarams（排除 sign）。</p>

<p>如果body params是: 
</br>
<code>
{
&quot;id&quot;: &quot;2XB0eKAvj7KvjZDk59zl&quot;,
&quot;withdrawID&quot;: &quot;7Cab38EA42538f4D8C2&quot;,
&quot;bizType&quot;: &quot;DEPOSIT&quot;,
&quot;coinName&quot;: &quot;ETH&quot;,
&quot;type&quot;: &quot;ETH&quot;,
&quot;state&quot;: &quot;DONE&quot;,
&quot;memo&quot;: &quot;&quot;,
&quot;value&quot;: &quot;1.000000000000000000&quot;,
&quot;fee&quot;: &quot;0.000000000000000000&quot;,
&quot;from&quot;: &quot;0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072&quot;,
&quot;to&quot;: &quot;0x29152c850456899A78178622B6543BBFfC224495&quot;,
&quot;txid&quot;: &quot;0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59&quot;,
&quot;n&quot;: 0,
&quot;block&quot;: 13721091,
&quot;affirmativeConfirmation&quot;: 20,
&quot;confirmations&quot;: 27
}
</code></p>

<p>消息字符串如下:
</br>
<code>
affirmativeConfirmation=20&amp;bizType=DEPOSIT&amp;block=13721091&amp;coinName=ETH&amp;confirmations=27&amp;fee=0.000000000000000000&amp;from=0xF0706B7Cab38EA42538f4D8C279B6F57ad1d4072&amp;id=2XB0eKAvj7KvjZDk59zl&amp;memo=&amp;n=0&amp;state=DONE&amp;to=0x29152c850456899A78178622B6543BBFfC224495&amp;txid=0x8487e23bbf71f1763e015598283ae891cc5ea8d444f87a0a60a0b5eb7e1a4d59&amp;type=ETH&amp;value=1.000000000000000000&amp;withdrawID=7Cab38EA42538f4D8C2
</code></p></li>
<li><p>使用HMAC-SHA256对消息进行签名。如果 AppSecret 是 <code>exzYZT8IubM9Jxq1PWU5QjZ0JFP81bvCmlf1fFjW0b87Zr6eAMdofeYlhAMZxPzo</code>, 那么sign param 如下:
</br>
<code>
fb0f53f33bba4cfa4bcb2c81e976bbe817633ba87a9904b6c3de293da3805cb3
</code></p></li>
</ol>
<h1 id='8ba46c43fe-2'>签名</h1>
<ol>
<li><p>G获取当前的时间戳（秒）和nonce（随机字符串）。请确保时间戳错误不超过5分钟，nonce不在10分钟内重复。</p></li>
<li><p>形成一个字符串消息（排序），其中包含数据prarams，上述时间戳和随机字符串。</p>

<p>如果body params是: 
</br>
<code>
{
&quot;mode&quot;: &quot;auto&quot;
}
</code></p>

<p>消息字符串如下:
</br>
<code>
mode=auto&amp;nonce=15833762841261615239762485&amp;timestamp=1583376284
</code></p></li>
<li><p>使用HMAC-SHA256对消息进行签名。如果 AppSecret 是 <code>yeTJ3EnOkyQQEjhTMVqn165Dqjp43bhTwXLIv25Ycdu8qwDOyqpa0WV54C6sO4HW</code>, 那么sign param 如下:
</br>
<code>
7042a9fd6deea017be7ad76dfb48e4c36feca279819630c870a628f5352c9044
</code></p></li>
<li><p>发送请求的格式与 <a href="#general-structure">一般结构</a>中所述的相同。</p></li>
</ol>
<h1 id='aes'>AES 加密</h1>
<p>加密有两部分: key 和 iv。 key 是 sha256(CompanySecret)， iv 是一个长度为16的随机字节。以下为用python编写的加密appSecret的例子。</p>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">Crypto.Cipher</span> <span class="kn">import</span> <span class="n">AES</span>

<span class="k">def</span> <span class="nf">_pad</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span> <span class="o">+</span> <span class="p">(</span><span class="n">AES</span><span class="p">.</span><span class="n">block_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">%</span> <span class="n">AES</span><span class="p">.</span><span class="n">block_size</span><span class="p">)</span> <span class="o">*</span> <span class="nb">chr</span><span class="p">(</span><span class="n">AES</span><span class="p">.</span><span class="n">block_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">%</span> <span class="n">AES</span><span class="p">.</span><span class="n">block_size</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">_unpad</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="o">-</span><span class="nb">ord</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:])]</span>

<span class="n">companySecret</span> <span class="o">=</span> <span class="sa">b</span><span class="s">'kfTKfuSV5oiuFZENI6tv1OwfiJ1tEv70HnmJsVxNGCu2YEKqEq2QHpBGgqwRa29R'</span>
<span class="n">appSecret</span> <span class="o">=</span> <span class="s">'nn2oh58iuc1sg2adya1golz35cowjbz7r0hfjt2ey6b4fc4xyq6kdopp9tlp0ko3'</span>

<span class="n">aeskey</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">.</span><span class="n">fromhex</span><span class="p">(</span><span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">(</span><span class="n">companySecret</span><span class="p">).</span><span class="n">hexdigest</span><span class="p">())</span>
<span class="n">iv</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64decode</span><span class="p">(</span><span class="s">'MTIzNDU2Nzg5MDEyMzQ1Ng=='</span><span class="p">)</span>

<span class="n">decipher</span> <span class="o">=</span> <span class="n">AES</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">aeskey</span><span class="p">,</span> <span class="n">AES</span><span class="p">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">IV</span><span class="o">=</span><span class="n">iv</span><span class="p">)</span>
<span class="n">encryptedAppSecret</span> <span class="o">=</span> <span class="n">decipher</span><span class="p">.</span><span class="n">encrypt</span><span class="p">(</span><span class="n">_pad</span><span class="p">(</span><span class="n">appSecret</span><span class="p">))</span>
<span class="n">base64EncryptedAppSecret</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">encryptedAppSecret</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">base64EncryptedAppSecret</span><span class="p">)</span>

<span class="n">decipher</span> <span class="o">=</span> <span class="n">AES</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">aeskey</span><span class="p">,</span> <span class="n">AES</span><span class="p">.</span><span class="n">MODE_CBC</span><span class="p">,</span> <span class="n">IV</span><span class="o">=</span><span class="n">iv</span><span class="p">)</span>
<span class="n">plaintext</span> <span class="o">=</span> <span class="n">_unpad</span><span class="p">(</span><span class="n">decipher</span><span class="p">.</span><span class="n">decrypt</span><span class="p">(</span><span class="n">base64</span><span class="p">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">base64EncryptedAppSecret</span><span class="p">)))</span>
<span class="k">print</span><span class="p">(</span><span class="n">plaintext</span><span class="p">)</span>
</code></pre></div><h1 id='ecc'>ECC 签名</h1>
<blockquote>
<p>Javascript code of building the message to be signed:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">_buildMsg</span> <span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">opts</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">sortRule</span> <span class="o">=</span> <span class="nx">opts</span><span class="p">.</span><span class="nx">sort</span> <span class="o">||</span> <span class="dl">'</span><span class="s1">key-alphabet</span><span class="dl">'</span>
  <span class="kd">let</span> <span class="nx">arr</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">obj</span><span class="p">))</span> <span class="p">{</span>
    <span class="nx">arr</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">o</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
      <span class="na">k</span><span class="p">:</span> <span class="p">(</span><span class="nx">sortRule</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">kvpair</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">sortRule</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">)</span> <span class="p">?</span> <span class="dl">''</span> <span class="p">:</span> <span class="nx">i</span><span class="p">,</span>
      <span class="na">v</span><span class="p">:</span> <span class="nx">_buildMsg</span><span class="p">(</span><span class="nx">o</span><span class="p">,</span> <span class="nx">opts</span><span class="p">)</span>
    <span class="p">}))</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">isObject</span><span class="p">(</span><span class="nx">obj</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="o">!==</span> <span class="kc">undefined</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">arr</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span> <span class="nx">k</span><span class="p">,</span> <span class="na">v</span><span class="p">:</span> <span class="nx">_buildMsg</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="nx">k</span><span class="p">],</span> <span class="nx">opts</span><span class="p">)</span> <span class="p">})</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">obj</span> <span class="o">===</span> <span class="kc">undefined</span> <span class="o">||</span> <span class="nx">obj</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="dl">''</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
  <span class="p">}</span>
  <span class="c1">// Sort Array</span>
  <span class="nx">arr</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">aVal</span>
    <span class="kd">let</span> <span class="nx">bVal</span>
    <span class="k">switch</span> <span class="p">(</span><span class="nx">sortRule</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">key</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">aVal</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">k</span>
        <span class="nx">bVal</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">k</span>
        <span class="k">break</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">key-alphabet</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">aVal</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">k</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
        <span class="nx">bVal</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">k</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span>
        <span class="k">break</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">:</span>
        <span class="nx">aVal</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">v</span>
        <span class="nx">bVal</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">v</span>
        <span class="k">break</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">kvpair</span><span class="dl">'</span><span class="p">:</span>
      <span class="na">default</span><span class="p">:</span>
        <span class="nx">aVal</span> <span class="o">=</span> <span class="nx">a</span><span class="p">.</span><span class="nx">k</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">+</span> <span class="nx">a</span><span class="p">.</span><span class="nx">v</span>
        <span class="nx">bVal</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">k</span><span class="p">.</span><span class="nx">toString</span><span class="p">()</span> <span class="o">+</span> <span class="nx">b</span><span class="p">.</span><span class="nx">v</span>
        <span class="k">break</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">aVal</span> <span class="o">&lt;</span> <span class="nx">bVal</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">aVal</span> <span class="o">===</span> <span class="nx">bVal</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">0</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">return</span> <span class="mi">1</span>
    <span class="p">}</span>
  <span class="p">})</span>
  <span class="c1">// Build message</span>
  <span class="k">return</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">lastMsg</span><span class="p">,</span> <span class="nx">curr</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">lastMsg</span> <span class="o">+</span> <span class="nx">curr</span><span class="p">.</span><span class="nx">k</span> <span class="o">+</span> <span class="nx">curr</span><span class="p">.</span><span class="nx">v</span>
  <span class="p">},</span> <span class="dl">''</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p><em>构建 GET 请求的签名步骤::</em></p>

<ol>
<li>获取当前的时间戳</li>
<li>将时间戳和其他所有请求参数按字母排序生成一个字符串，字符串像下面这样:
</br>
<code>
timestamp1557913602438
</code></li>
<li>使用 sha3 keccak256 编码上面的字符串</li>
<li>使用私钥通过 ecdsa 签名上面编码好的字符串</li>
<li>将签名结果的 r 和 s 进行 base64 编码后放入请求参数 sigR 和 sigS 中，时间戳放入 timestamp 中，假设私钥(hex编码)为 1cc64d8767ff6fe618a7794d1e16cced03ab35715d58d48029de87b475abef85 ，那么最终的 sigR 和 sigS 为
</br>
<code>
sigR = &#39;2vS/6a+4+X0wyDyqAw5gTcLS02cCvH+CsSDIOsStPvc=&#39;
sigS = &#39;S7TIyw5oYkoBUC0mBUIHxabMU4slREcMAMYo74ZO2wM=&#39;
</code></li>
</ol>

<p><em>构建 POST/PUT 请求的签名步骤:</em></p>

<ol>
<li>获取当前的时间戳</li>
<li>将body中的所有请求参数和时间戳按字母排序生成一个字符串（右侧是js的示例代码），以交换币种接口为例（{sequence: &#39;abcd&#39;, from: &#39;walletwovldjmmmqj2m0n9&#39;, to: &#39;walletp2q8yjerrr6owxmr&#39;, fromAssetID: 1, fromAmount: &#39;123&#39;, toAssetID: 2, toAmount: &#39;321&#39;, note: &#39;test sig&#39;, timestamp: 1557913602438}），字符串像下面这样:
</br>
<code>
fromwalletwovldjmmmqj2m0n9fromAmount123fromAssetID1notetest sigsequenceabcdtimestamp1557913602438towalletp2q8yjerrr6owxmrtoAmount321toAssetID2
</code></li>
<li>使用 sha3 keccak256 编码上面的字符串</li>
<li>使用私钥通过 ecdsa 签名上面编码好的字符串</li>
<li>将签名结果的 r 和 s 进行 base64 编码后放入请求参数 sig 中，时间戳放入 timestamp 中，假设私钥(hex编码)为 1cc64d8767ff6fe618a7794d1e16cced03ab35715d58d48029de87b475abef85 ，那么最终的 sig 为
</br>
<code>
sig: {
r: &#39;Il4vOx0mIfQLRwFQt9E4480IsuwyCvPOHvTxWnv+CM0=&#39;,
s: &#39;Psdc5NI36LE+R/X6qVvumtjTvo0ufqBBqEBB62FRTh0=&#39;
}
</code></li>
</ol>
<h1 id='errors'>Errors</h1>
<aside class="notice">
This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>'s frontmatter. Files are included in the order listed.
</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The kitten requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a kitten with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>410</td>
<td>Gone -- The kitten requested has been removed from our servers.</td>
</tr>
<tr>
<td>418</td>
<td>I&#39;m a teapot.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="go">go</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
